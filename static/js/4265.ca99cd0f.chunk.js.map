{"version":3,"file":"static/js/4265.ca99cd0f.chunk.js","mappings":"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","sources":["components/UniversalMapYandex.tsx","../node_modules/@ant-design/icons/es/icons/RightOutlined.js","../node_modules/antd/es/style/motion/collapse.js","../node_modules/@ant-design/icons/es/icons/LeftOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/LeftOutlined.js","pages/PropertiesPage.tsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\nimport { Property } from '../types';\r\n\r\n// Декларация для window.ymaps\r\ndeclare global {\r\n  interface Window {\r\n    ymaps: any;\r\n  }\r\n}\r\n\r\ninterface UniversalMapYandexProps {\r\n  properties: Property[];\r\n  selectedId?: number | null;\r\n  onSelect?: (id: number) => void;\r\n  initialCenter?: [number, number];\r\n  initialZoom?: number;\r\n  style?: React.CSSProperties;\r\n  onBoundsChange?: (bounds: any) => void;\r\n}\r\n\r\nconst DEFAULT_CENTER: [number, number] = [55.751244, 37.618423];\r\nconst DEFAULT_ZOOM = 11;\r\n\r\nconst UniversalMapYandex: React.FC<UniversalMapYandexProps> = ({\r\n  properties,\r\n  selectedId,\r\n  onSelect,\r\n  initialCenter = DEFAULT_CENTER,\r\n  initialZoom = DEFAULT_ZOOM,\r\n  style = { height: 400, width: '100%' },\r\n  onBoundsChange,\r\n}) => {\r\n  const mapContainerRef = useRef<HTMLDivElement>(null);\r\n  const mapRef = useRef<any>(null);\r\n  const clustererRef = useRef<any>(null);\r\n  const markersRef = useRef<any[]>([]);\r\n  const skipNextBoundsChange = useRef(false);\r\n\r\n  // Инициализация карты\r\n  useEffect(() => {\r\n    if (!mapContainerRef.current) return;\r\n    if (mapRef.current) return;\r\n    const initMap = () => {\r\n      mapRef.current = new window.ymaps.Map(mapContainerRef.current, {\r\n        center: initialCenter,\r\n        zoom: initialZoom,\r\n        controls: ['zoomControl', 'fullscreenControl'],\r\n      });\r\n      if (onBoundsChange) {\r\n        mapRef.current.events.add('boundschange', () => {\r\n          if (skipNextBoundsChange.current) {\r\n            skipNextBoundsChange.current = false;\r\n            return;\r\n          }\r\n          const bounds = mapRef.current.getBounds();\r\n          if (bounds && bounds[0] && bounds[1]) {\r\n            const [sw, ne] = bounds;\r\n            onBoundsChange([sw[1], sw[0], ne[1], ne[0]]);\r\n          }\r\n        });\r\n      }\r\n    };\r\n    if (window.ymaps && window.ymaps.Map) {\r\n      initMap();\r\n    } else {\r\n      window.ymaps.ready(initMap);\r\n    }\r\n  }, [initialCenter, initialZoom, onBoundsChange]);\r\n\r\n  // Обновление маркеров и кластеров\r\n  useEffect(() => {\r\n    if (!mapRef.current || !window.ymaps) return;\r\n    // Удаляем старые маркеры и кластеры\r\n    if (clustererRef.current) {\r\n      mapRef.current.geoObjects.remove(clustererRef.current);\r\n      clustererRef.current = null;\r\n    }\r\n    markersRef.current = [];\r\n    // Создаём новые маркеры\r\n    const geoObjects = properties.filter(p => !isNaN(Number(p.lat)) && !isNaN(Number(p.lng))).map(p => {\r\n      // Получаем фото объекта\r\n      let photo = Array.isArray(p.photos) && p.photos.length > 0 ? p.photos[0] : (typeof p.photos === 'string' && p.photos ? JSON.parse(p.photos)[0] : null);\r\n      if (!photo) photo = '/placeholder-property.jpg';\r\n      // Формируем balloonContent с фото\r\n      const balloonHtml = `\r\n        <div style='width:180px'>\r\n          <img src='${photo}' alt='Фото' style='width:100%;height:90px;object-fit:cover;border-radius:8px;margin-bottom:6px;' onerror=\"this.src='/placeholder-property.jpg'\" loading='lazy' />\r\n          <b>${p.title}</b><br/>\r\n          ${p.address}<br/>\r\n          <a href='/properties/${p.id}'>Подробнее</a>\r\n        </div>\r\n      `;\r\n      const placemark = new window.ymaps.Placemark([Number(p.lat), Number(p.lng)], {\r\n        balloonContent: balloonHtml\r\n      }, {\r\n        preset: selectedId === p.id ? 'islands#redIcon' : 'islands#blueIcon',\r\n        iconColor: selectedId === p.id ? '#ff3333' : '#3388ff',\r\n      });\r\n      placemark.events.add('click', () => {\r\n        skipNextBoundsChange.current = true;\r\n        onSelect && onSelect(p.id);\r\n      });\r\n      markersRef.current.push(placemark);\r\n      return placemark;\r\n    });\r\n    // Кластеризация\r\n    clustererRef.current = new window.ymaps.Clusterer({\r\n      preset: 'islands#invertedBlueClusterIcons',\r\n      groupByCoordinates: false,\r\n      clusterDisableClickZoom: false,\r\n    });\r\n    clustererRef.current.add(geoObjects);\r\n    mapRef.current.geoObjects.add(clustererRef.current);\r\n  }, [properties, selectedId, onSelect]);\r\n\r\n  // Плавная анимация выделения маркера (смена preset)\r\n  useEffect(() => {\r\n    if (!window.ymaps || !markersRef.current.length) return;\r\n    markersRef.current.forEach(placemark => {\r\n      const id = placemark.properties.get('balloonContent').match(/properties\\/(\\d+)/)?.[1];\r\n      if (!id) return;\r\n      if (Number(id) === selectedId) {\r\n        placemark.options.set('preset', 'islands#redIcon');\r\n        placemark.options.set('iconColor', '#ff3333');\r\n      } else {\r\n        placemark.options.set('preset', 'islands#blueIcon');\r\n        placemark.options.set('iconColor', '#3388ff');\r\n      }\r\n    });\r\n  }, [selectedId]);\r\n\r\n  // Центрирование на выбранном объекте\r\n  useEffect(() => {\r\n    if (!mapRef.current || !selectedId) return;\r\n    const selected = properties.find(p => p.id === selectedId && !isNaN(Number(p.lat)) && !isNaN(Number(p.lng)));\r\n    if (selected) {\r\n      mapRef.current.setCenter([Number(selected.lat), Number(selected.lng)], mapRef.current.getZoom(), { duration: 300 });\r\n    }\r\n  }, [selectedId, properties]);\r\n\r\n  // Центрирование карты при изменении initialCenter\r\n  useEffect(() => {\r\n    if (mapRef.current && initialCenter) {\r\n      mapRef.current.setCenter(initialCenter, mapRef.current.getZoom(), { duration: 300 });\r\n    }\r\n  }, [initialCenter]);\r\n\r\n  return (\r\n    <div ref={mapContainerRef} style={style} />\r\n  );\r\n};\r\n\r\nexport default UniversalMapYandex; ","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport RightOutlinedSvg from \"@ant-design/icons-svg/es/asn/RightOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nconst RightOutlined = (props, ref) => /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n  ref: ref,\n  icon: RightOutlinedSvg\n}));\n\n/**![right](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTc2NS43IDQ4Ni44TDMxNC45IDEzNC43QTcuOTcgNy45NyAwIDAwMzAyIDE0MXY3Ny4zYzAgNC45IDIuMyA5LjYgNi4xIDEyLjZsMzYwIDI4MS4xLTM2MCAyODEuMWMtMy45IDMtNi4xIDcuNy02LjEgMTIuNlY4ODNjMCA2LjcgNy43IDEwLjQgMTIuOSA2LjNsNDUwLjgtMzUyLjFhMzEuOTYgMzEuOTYgMCAwMDAtNTAuNHoiIC8+PC9zdmc+) */\nconst RefIcon = /*#__PURE__*/React.forwardRef(RightOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'RightOutlined';\n}\nexport default RefIcon;","const genCollapseMotion = token => ({\n  [token.componentCls]: {\n    // For common/openAnimation\n    [`${token.antCls}-motion-collapse-legacy`]: {\n      overflow: 'hidden',\n      '&-active': {\n        transition: `height ${token.motionDurationMid} ${token.motionEaseInOut},\n        opacity ${token.motionDurationMid} ${token.motionEaseInOut} !important`\n      }\n    },\n    [`${token.antCls}-motion-collapse`]: {\n      overflow: 'hidden',\n      transition: `height ${token.motionDurationMid} ${token.motionEaseInOut},\n        opacity ${token.motionDurationMid} ${token.motionEaseInOut} !important`\n    }\n  }\n});\nexport default genCollapseMotion;","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport LeftOutlinedSvg from \"@ant-design/icons-svg/es/asn/LeftOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nconst LeftOutlined = (props, ref) => /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n  ref: ref,\n  icon: LeftOutlinedSvg\n}));\n\n/**![left](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTcyNCAyMTguM1YxNDFjMC02LjctNy43LTEwLjQtMTIuOS02LjNMMjYwLjMgNDg2LjhhMzEuODYgMzEuODYgMCAwMDAgNTAuM2w0NTAuOCAzNTIuMWM1LjMgNC4xIDEyLjkuNCAxMi45LTYuM3YtNzcuM2MwLTQuOS0yLjMtOS42LTYuMS0xMi42bC0zNjAtMjgxIDM2MC0yODEuMWMzLjgtMyA2LjEtNy43IDYuMS0xMi42eiIgLz48L3N2Zz4=) */\nconst RefIcon = /*#__PURE__*/React.forwardRef(LeftOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'LeftOutlined';\n}\nexport default RefIcon;","// This icon file is generated automatically.\nvar LeftOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z\" } }] }, \"name\": \"left\", \"theme\": \"outlined\" };\nexport default LeftOutlined;\n","import React from 'react';\r\nimport { Row, Col, Input, InputNumber, Select, Button, Typography, Spin, Alert, Tabs, Divider, Space, Checkbox, Collapse, Badge, Tooltip } from 'antd';\r\nimport { SearchOutlined, HomeOutlined, NumberOutlined, ExpandOutlined, EnvironmentOutlined, ApartmentOutlined, CarOutlined, BuildOutlined, CalendarOutlined, PictureOutlined, DownOutlined, UpOutlined, FilterOutlined, ReloadOutlined, CheckCircleTwoTone } from '@ant-design/icons';\r\nimport PropertyCard from '../components/PropertyCard';\r\nimport UniversalMapYandex from '../components/UniversalMapYandex';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { usePropertiesContext } from '../context/PropertiesContext';\r\nimport { AuthContext } from '../context/AuthContext';\r\nimport { Property, PropertyStatus } from '../types';\r\n\r\nconst { Title } = Typography;\r\nconst { Panel } = Collapse;\r\nconst { TabPane } = Tabs;\r\n\r\nconst propertyTypeOptions = [\r\n  { value: 'apartment', label: 'Квартира' },\r\n  { value: 'house', label: 'Дом' },\r\n  { value: 'commercial', label: 'Коммерция' },\r\n  { value: 'land', label: 'Участок' },\r\n];\r\n\r\nconst statusOptions = [\r\n  { value: 'for_sale', label: 'В продаже' },\r\n  { value: 'in_deal', label: 'На задатке' },\r\n  { value: 'reserved', label: 'На брони' },\r\n  { value: 'sold', label: 'Продан' },\r\n];\r\n\r\nconst materialOptions = [\r\n  { value: 'panel', label: 'Панель' },\r\n  { value: 'brick', label: 'Кирпич' },\r\n  { value: 'monolith', label: 'Монолит' },\r\n  { value: 'block', label: 'Блок' },\r\n  { value: 'wood', label: 'Дерево' },\r\n];\r\nconst sortOptions = [\r\n  { value: 'newest', label: 'Сначала новые' },\r\n  { value: 'cheapest', label: 'Сначала дешёвые' },\r\n  { value: 'expensive', label: 'Сначала дорогие' },\r\n  { value: 'largest', label: 'Сначала большие' },\r\n];\r\n\r\nexport default function PropertiesPage() {\r\n  const auth = React.useContext(AuthContext);\r\n  const navigate = useNavigate();\r\n  const {\r\n    filters,\r\n    updateFilters,\r\n    resetFilters,\r\n    properties,\r\n    setProperties,\r\n    loading,\r\n    selectedId,\r\n    setSelectedId,\r\n    bbox,\r\n    setBbox,\r\n    center,\r\n    setCenter\r\n  } = usePropertiesContext();\r\n  const [activeTab, setActiveTab] = React.useState<'active' | 'archive' | 'my'>('active');\r\n  const [showAdvanced, setShowAdvanced] = React.useState(false);\r\n  const [foundCount, setFoundCount] = React.useState(0);\r\n\r\n  // Новый фильтр: фильтрация по всем параметрам (search, price, area, rooms, type, status)\r\n  let filteredProperties = properties\r\n    .filter(p => !!p.id && typeof p.id === 'number')\r\n    .filter(p => {\r\n      const status = (p.status || '').toString().toLowerCase();\r\n      if (activeTab === 'my') {\r\n        if (auth?.user?.role === 'agent') {\r\n          return p.agent?.id === auth.user.id || p.agentId === auth.user.id;\r\n        } else if (auth?.user?.role === 'director') {\r\n          if (auth.user.agencyId) {\r\n            return (p.agent && p.agent.agency && p.agent.agency.id === auth.user.agencyId);\r\n          }\r\n          return true;\r\n        }\r\n      }\r\n      return activeTab === 'active' ? status !== 'sold' : status === 'sold';\r\n    })\r\n    .filter(p => {\r\n      if (!filters.search) return true;\r\n      const search = filters.search.toLowerCase();\r\n      return (\r\n        (p.title && p.title.toLowerCase().includes(search)) ||\r\n        (p.address && p.address.toLowerCase().includes(search)) ||\r\n        (p.description && p.description.toLowerCase().includes(search)) ||\r\n        (p.agent && ((p.agent.firstName && p.agent.firstName.toLowerCase().includes(search)) || (p.agent.lastName && p.agent.lastName.toLowerCase().includes(search)) || (p.agent.email && p.agent.email.toLowerCase().includes(search)))) ||\r\n        (p.price && String(p.price).includes(search)) ||\r\n        (p.area && String(p.area).includes(search)) ||\r\n        (p.status && p.status.toLowerCase().includes(search))\r\n      );\r\n    })\r\n    .filter(p => {\r\n      if (filters.minPrice !== undefined && p.price < filters.minPrice) return false;\r\n      if (filters.maxPrice !== undefined && p.price > filters.maxPrice) return false;\r\n      if (filters.minArea !== undefined && (p.area === undefined || p.area < filters.minArea)) return false;\r\n      if (filters.maxArea !== undefined && (p.area === undefined || p.area > filters.maxArea)) return false;\r\n      if (filters.rooms !== undefined && p.rooms !== filters.rooms) return false;\r\n      if (filters.type && p.type !== filters.type) return false;\r\n      if (filters.status && p.status !== filters.status) return false;\r\n      return true;\r\n    });\r\n\r\n  // Фильтрация по bbox (видимая область карты)\r\n  if (bbox && Array.isArray(bbox) && bbox.length === 4) {\r\n    filteredProperties = filteredProperties.filter(p => {\r\n      if (typeof p.lat !== 'number' || typeof p.lng !== 'number') return false;\r\n      const [minLng, minLat, maxLng, maxLat] = bbox;\r\n      return p.lat >= minLat && p.lat <= maxLat && p.lng >= minLng && p.lng <= maxLng;\r\n    });\r\n  }\r\n\r\n  // Открыть большую карту с текущими фильтрами\r\n  const handleOpenBigMap = () => {\r\n    const params = new URLSearchParams();\r\n    params.set('filters', encodeURIComponent(JSON.stringify(filters)));\r\n    if (activeTab) params.set('tab', activeTab);\r\n    navigate(`/map?${params.toString()}`);\r\n  };\r\n\r\n  // Для карты: только объекты с координатами\r\n  const propertiesWithCoords = filteredProperties.filter(p => p.lat && p.lng);\r\n\r\n  const handleStatusChange = (id: number, status: string, updatedProperty?: Property) => {\r\n    setProperties((prev: Property[]) => prev.map((p: Property) => p.id === id ? (updatedProperty ? updatedProperty : { ...p, status: status as PropertyStatus }) : p));\r\n  };\r\n\r\n  // Вместо setSelectedId для карты:\r\n  const handleMapSelect = (id: number) => {\r\n    navigate(`/properties/${id}`);\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    setFoundCount(filteredProperties.length);\r\n  }, [filteredProperties]);\r\n\r\n  console.log('properties:', properties);\r\n\r\n  return (\r\n    <div style={{ minHeight: '100vh', background: 'linear-gradient(120deg, #f8fafc 0%, #e9f0fb 100%)', padding: '32px 0' }}>\r\n      <div className=\"property-header-row\" style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', maxWidth: 1440, margin: '0 auto', padding: '0 24px' }}>\r\n        <div style={{ display: 'flex', alignItems: 'center', gap: 16 }}>\r\n          <Title level={2} className=\"property-title-mobile\" style={{ marginBottom: 32, fontWeight: 800, letterSpacing: -1 }}>\r\n            Объекты недвижимости\r\n          </Title>\r\n        </div>\r\n        <Button\r\n          type=\"primary\"\r\n          size=\"large\"\r\n          icon={<EnvironmentOutlined />}\r\n          style={{ marginLeft: 24, fontWeight: 600, fontSize: 18, height: 48, borderRadius: 12 }}\r\n          onClick={handleOpenBigMap}\r\n        >\r\n          Открыть большую карту\r\n        </Button>\r\n      </div>\r\n      <div style={{ maxWidth: 1440, margin: '0 auto', padding: '0 24px' }}>\r\n        <Tabs\r\n          activeKey={activeTab}\r\n          onChange={key => setActiveTab(key as 'active' | 'archive' | 'my')}\r\n          style={{ marginBottom: 24 }}\r\n          items={[\r\n            { key: 'active', label: 'Активные объекты' },\r\n            { key: 'my', label: 'Мои объекты' },\r\n            { key: 'archive', label: 'Архив (Продано)' },\r\n          ]}\r\n          data-testid=\"properties-tabs\"\r\n        />\r\n        {/* Прогрессивный фильтр */}\r\n        <div style={{\r\n          background: 'rgba(255,255,255,0.55)',\r\n          borderRadius: 24,\r\n          boxShadow: '0 8px 32px 0 rgba(31, 38, 135, 0.15)',\r\n          backdropFilter: 'blur(12px)',\r\n          border: '1.5px solid #e0e7ef',\r\n          padding: 28,\r\n          marginBottom: 36,\r\n          display: 'flex',\r\n          flexWrap: 'wrap',\r\n          alignItems: 'center',\r\n          gap: 18,\r\n          position: 'relative',\r\n          minHeight: 90,\r\n          transition: 'box-shadow 0.3s',\r\n        }}>\r\n          <Badge count={foundCount} style={{ background: '#2563eb', color: '#fff', fontWeight: 700, fontSize: 15, boxShadow: '0 2px 8px #b6c6e6' }}>\r\n            <FilterOutlined style={{ fontSize: 26, color: '#2563eb', marginRight: 10 }} />\r\n          </Badge>\r\n          <Input\r\n            prefix={<SearchOutlined style={{ color: '#b0b6c3' }} />}\r\n            placeholder=\"Поиск (адрес, название, агент, описание)\"\r\n            value={filters.search || ''}\r\n            onChange={e => updateFilters({ search: e.target.value })}\r\n            style={{ width: 220, borderRadius: 14, background: 'rgba(247,249,252,0.9)', border: '1.5px solid #e6eaf1', fontWeight: 500 }}\r\n            allowClear\r\n          />\r\n          <InputNumber\r\n            prefix={<HomeOutlined style={{ color: '#b0b6c3' }} />}\r\n            placeholder=\"Цена от\"\r\n            min={0}\r\n            value={filters.minPrice}\r\n            onChange={value => updateFilters({ minPrice: value === null ? undefined : value })}\r\n            style={{ width: 100, borderRadius: 14, background: 'rgba(247,249,252,0.9)', border: '1.5px solid #e6eaf1' }}\r\n          />\r\n          <InputNumber\r\n            placeholder=\"до\"\r\n            min={0}\r\n            value={filters.maxPrice}\r\n            onChange={value => updateFilters({ maxPrice: value === null ? undefined : value })}\r\n            style={{ width: 80, borderRadius: 14, background: 'rgba(247,249,252,0.9)', border: '1.5px solid #e6eaf1' }}\r\n          />\r\n          <InputNumber\r\n            prefix={<ExpandOutlined style={{ color: '#b0b6c3' }} />}\r\n            placeholder=\"Площадь от\"\r\n            min={0}\r\n            value={filters.minArea}\r\n            onChange={value => updateFilters({ minArea: value === null ? undefined : value })}\r\n            style={{ width: 80, borderRadius: 14, background: 'rgba(247,249,252,0.9)', border: '1.5px solid #e6eaf1' }}\r\n          />\r\n          <InputNumber\r\n            placeholder=\"до\"\r\n            min={0}\r\n            value={filters.maxArea}\r\n            onChange={value => updateFilters({ maxArea: value === null ? undefined : value })}\r\n            style={{ width: 80, borderRadius: 14, background: 'rgba(247,249,252,0.9)', border: '1.5px solid #e6eaf1' }}\r\n          />\r\n          <InputNumber\r\n            prefix={<NumberOutlined style={{ color: '#b0b6c3' }} />}\r\n            placeholder=\"Комнат\"\r\n            min={1}\r\n            max={10}\r\n            value={filters.rooms}\r\n            onChange={value => updateFilters({ rooms: value === null ? undefined : value })}\r\n            style={{ width: 60, borderRadius: 14, background: 'rgba(247,249,252,0.9)', border: '1.5px solid #e6eaf1' }}\r\n          />\r\n          <Select\r\n            placeholder=\"Тип\"\r\n            allowClear\r\n            value={filters.type}\r\n            onChange={value => updateFilters({ type: value })}\r\n            options={propertyTypeOptions}\r\n            style={{ width: 110, borderRadius: 14, background: 'rgba(247,249,252,0.9)', border: '1.5px solid #e6eaf1' }}\r\n          />\r\n          <Select\r\n            placeholder=\"Статус\"\r\n            allowClear\r\n            value={filters.status}\r\n            onChange={value => updateFilters({ status: value })}\r\n            options={statusOptions}\r\n            style={{ width: 110, borderRadius: 14, background: 'rgba(247,249,252,0.9)', border: '1.5px solid #e6eaf1' }}\r\n          />\r\n          <Tooltip title=\"Показать расширенные фильтры\">\r\n            <Button icon={showAdvanced ? <UpOutlined /> : <DownOutlined />} shape=\"circle\" onClick={() => setShowAdvanced(v => !v)} style={{ marginLeft: 8, background: '#f3f6fa', border: '1.5px solid #e0e7ef' }} />\r\n          </Tooltip>\r\n          <Button icon={<ReloadOutlined />} onClick={resetFilters} style={{ borderRadius: 14, fontWeight: 500, height: 38, marginLeft: 8, background: '#f3f6fa', border: '1.5px solid #e0e7ef' }}>Сбросить</Button>\r\n          {/* Расширенные фильтры */}\r\n          {showAdvanced && (\r\n            <div style={{ width: '100%', marginTop: 18, display: 'flex', flexWrap: 'wrap', gap: 18, alignItems: 'center', background: 'rgba(255,255,255,0.35)', borderRadius: 18, padding: 18, boxShadow: '0 2px 12px #e0e7ef' }}>\r\n              <InputNumber\r\n                prefix={<CalendarOutlined style={{ color: '#b0b6c3' }} />}\r\n                placeholder=\"Год постр. от\"\r\n                min={1900}\r\n                max={2100}\r\n                value={filters.minYear}\r\n                onChange={value => updateFilters({ minYear: value === null ? undefined : value })}\r\n                style={{ width: 100, borderRadius: 12, background: '#f7f9fc', border: '1.5px solid #e6eaf1' }}\r\n              />\r\n              <InputNumber\r\n                placeholder=\"до\"\r\n                min={1900}\r\n                max={2100}\r\n                value={filters.maxYear}\r\n                onChange={value => updateFilters({ maxYear: value === null ? undefined : value })}\r\n                style={{ width: 80, borderRadius: 12, background: '#f7f9fc', border: '1.5px solid #e6eaf1' }}\r\n              />\r\n              <InputNumber\r\n                prefix={<BuildOutlined style={{ color: '#b0b6c3' }} />}\r\n                placeholder=\"Этаж от\"\r\n                min={1}\r\n                value={filters.minFloor}\r\n                onChange={value => updateFilters({ minFloor: value === null ? undefined : value })}\r\n                style={{ width: 80, borderRadius: 12, background: '#f7f9fc', border: '1.5px solid #e6eaf1' }}\r\n              />\r\n              <InputNumber\r\n                placeholder=\"до\"\r\n                min={1}\r\n                value={filters.maxFloor}\r\n                onChange={value => updateFilters({ maxFloor: value === null ? undefined : value })}\r\n                style={{ width: 80, borderRadius: 12, background: '#f7f9fc', border: '1.5px solid #e6eaf1' }}\r\n              />\r\n              <InputNumber\r\n                prefix={<ApartmentOutlined style={{ color: '#b0b6c3' }} />}\r\n                placeholder=\"Этажей в доме от\"\r\n                min={1}\r\n                value={filters.minFloors}\r\n                onChange={value => updateFilters({ minFloors: value === null ? undefined : value })}\r\n                style={{ width: 80, borderRadius: 12, background: '#f7f9fc', border: '1.5px solid #e6eaf1' }}\r\n              />\r\n              <InputNumber\r\n                placeholder=\"до\"\r\n                min={1}\r\n                value={filters.maxFloors}\r\n                onChange={value => updateFilters({ maxFloors: value === null ? undefined : value })}\r\n                style={{ width: 80, borderRadius: 12, background: '#f7f9fc', border: '1.5px solid #e6eaf1' }}\r\n              />\r\n              <Select\r\n                placeholder=\"Материал\"\r\n                allowClear\r\n                value={filters.material}\r\n                onChange={value => updateFilters({ material: value })}\r\n                options={materialOptions}\r\n                style={{ width: 120, borderRadius: 12, background: '#f7f9fc', border: '1.5px solid #e6eaf1' }}\r\n              />\r\n              <Checkbox checked={!!filters.balcony} onChange={e => updateFilters({ balcony: e.target.checked })}>Балкон</Checkbox>\r\n              <Checkbox checked={!!filters.lift} onChange={e => updateFilters({ lift: e.target.checked })}>Лифт</Checkbox>\r\n              <Checkbox checked={!!filters.parking} onChange={e => updateFilters({ parking: e.target.checked })}>\r\n                <CarOutlined style={{ marginRight: 4 }} />Парковка\r\n              </Checkbox>\r\n              <Checkbox checked={!!filters.furniture} onChange={e => updateFilters({ furniture: e.target.checked })}>Мебель</Checkbox>\r\n              <Checkbox checked={!!filters.tech} onChange={e => updateFilters({ tech: e.target.checked })}>Техника</Checkbox>\r\n              <Checkbox checked={!!filters.onlyWithPhoto} onChange={e => updateFilters({ onlyWithPhoto: e.target.checked })}>\r\n                <PictureOutlined style={{ marginRight: 4 }} />Только с фото\r\n              </Checkbox>\r\n              <Checkbox checked={!!filters.isNew} onChange={e => updateFilters({ isNew: e.target.checked })}>Новостройка</Checkbox>\r\n              <Checkbox checked={!!filters.isSecondary} onChange={e => updateFilters({ isSecondary: e.target.checked })}>Вторичка</Checkbox>\r\n              <Select\r\n                placeholder=\"Сортировка\"\r\n                allowClear\r\n                value={filters.sort}\r\n                onChange={value => updateFilters({ sort: value })}\r\n                options={sortOptions}\r\n                style={{ width: 140, borderRadius: 12, background: '#f7f9fc', border: '1.5px solid #e6eaf1' }}\r\n              />\r\n            </div>\r\n          )}\r\n        </div>\r\n        {/* Карта */}\r\n        <div style={{\r\n          background: '#fff',\r\n          borderRadius: 18,\r\n          boxShadow: '0 4px 24px rgba(40,60,90,0.07)',\r\n          padding: 0,\r\n          marginBottom: 40,\r\n          overflow: 'hidden',\r\n          border: '1px solid #e6eaf1'\r\n        }}>\r\n          <UniversalMapYandex\r\n            properties={propertiesWithCoords}\r\n            selectedId={selectedId}\r\n            onSelect={setSelectedId}\r\n            initialCenter={center}\r\n            initialZoom={12}\r\n            style={{ height: 350, width: '100%', borderRadius: 18 }}\r\n            onBoundsChange={setBbox}\r\n          />\r\n        </div>\r\n        {/* Список объектов */}\r\n        <Spin spinning={loading}>\r\n          <Row gutter={[24, 24]} style={{ margin: 0 }}>\r\n            {filteredProperties.map(property => (\r\n              <Col xs={24} sm={12} md={8} lg={8} key={property.id} style={{ display: 'flex' }}>\r\n                <PropertyCard property={property} onStatusChange={handleStatusChange} />\r\n              </Col>\r\n            ))}\r\n          </Row>\r\n        </Spin>\r\n      </div>\r\n      {/* Анимация */}\r\n      <style>{`\r\n        @keyframes fadeInUp {\r\n          from { opacity: 0; transform: translate3d(0, 40px, 0); }\r\n          to { opacity: 1; transform: none; }\r\n        }\r\n        @media (max-width: 767px) {\r\n          .property-title-mobile {\r\n            writing-mode: initial !important;\r\n            text-align: left !important;\r\n            font-size: 22px !important;\r\n            letter-spacing: 0 !important;\r\n            margin-bottom: 16px !important;\r\n            margin-top: 0 !important;\r\n            font-weight: 700 !important;\r\n            width: 100% !important;\r\n            white-space: normal !important;\r\n          }\r\n          .property-header-row {\r\n            flex-direction: column !important;\r\n            align-items: flex-start !important;\r\n            gap: 8px !important;\r\n            padding: 0 !important;\r\n          }\r\n          .property-filters {\r\n            flex-direction: column !important;\r\n            gap: 8px !important;\r\n            padding: 12px !important;\r\n            width: 100% !important;\r\n          }\r\n          .property-card-col {\r\n            flex: 0 0 100% !important;\r\n            max-width: 100% !important;\r\n          }\r\n        }\r\n        @media (max-width: 991px) and (min-width: 768px) {\r\n          .property-card-col {\r\n            flex: 0 0 50% !important;\r\n            max-width: 50% !important;\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n}"],"names":["DEFAULT_CENTER","DEFAULT_ZOOM","_ref","properties","selectedId","onSelect","initialCenter","initialZoom","style","height","width","onBoundsChange","mapContainerRef","useRef","mapRef","clustererRef","markersRef","skipNextBoundsChange","useEffect","current","initMap","window","ymaps","Map","center","zoom","controls","events","add","bounds","getBounds","sw","ne","ready","geoObjects","remove","filter","p","isNaN","Number","lat","lng","map","photo","Array","isArray","photos","length","JSON","parse","balloonHtml","title","address","id","placemark","Placemark","balloonContent","preset","iconColor","push","Clusterer","groupByCoordinates","clusterDisableClickZoom","forEach","_placemark$properties","get","match","options","set","selected","find","setCenter","getZoom","duration","_jsx","ref","_extends","Object","assign","bind","target","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","RightOutlined","props","React","AntdIcon","icon","RightOutlinedSvg","token","componentCls","antCls","overflow","transition","motionDurationMid","motionEaseInOut","LeftOutlined","LeftOutlinedSvg","Title","_Typography","Panel","_Collapse","TabPane","_Tabs","propertyTypeOptions","value","label","statusOptions","materialOptions","sortOptions","PropertiesPage","auth","AuthContext","navigate","useNavigate","filters","updateFilters","resetFilters","setProperties","loading","setSelectedId","bbox","setBbox","usePropertiesContext","activeTab","setActiveTab","showAdvanced","setShowAdvanced","foundCount","setFoundCount","filteredProperties","status","toString","toLowerCase","_auth$user","_auth$user2","_p$agent","user","role","agent","agentId","agencyId","agency","search","includes","description","firstName","lastName","email","price","String","area","undefined","minPrice","maxPrice","minArea","maxArea","rooms","type","minLng","minLat","maxLng","maxLat","propertiesWithCoords","handleStatusChange","updatedProperty","prev","console","log","_jsxs","minHeight","background","padding","children","className","display","alignItems","justifyContent","maxWidth","margin","gap","level","marginBottom","fontWeight","letterSpacing","_Button","size","EnvironmentOutlined","marginLeft","fontSize","borderRadius","onClick","handleOpenBigMap","params","URLSearchParams","encodeURIComponent","stringify","activeKey","onChange","items","boxShadow","backdropFilter","border","flexWrap","position","_Badge","count","color","FilterOutlined","marginRight","_Input","prefix","SearchOutlined","placeholder","e","allowClear","_InputNumber","HomeOutlined","min","ExpandOutlined","NumberOutlined","max","_Select","_Tooltip","UpOutlined","DownOutlined","shape","v","ReloadOutlined","marginTop","CalendarOutlined","minYear","maxYear","BuildOutlined","minFloor","maxFloor","ApartmentOutlined","minFloors","maxFloors","material","_Checkbox","checked","balcony","lift","parking","CarOutlined","furniture","tech","onlyWithPhoto","PictureOutlined","isNew","isSecondary","sort","UniversalMapYandex","_Spin","spinning","_Row","gutter","property","_Col","xs","sm","md","lg","PropertyCard","onStatusChange"],"sourceRoot":""}