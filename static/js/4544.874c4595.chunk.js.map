{"version":3,"file":"static/js/4544.874c4595.chunk.js","mappings":"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","sources":["components/UniversalMapYandex.tsx","../node_modules/@ant-design/icons-svg/es/asn/UserOutlined.js","../node_modules/@ant-design/icons/es/icons/UserOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/RightOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/PhoneOutlined.js","../node_modules/@ant-design/icons/es/icons/PhoneOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/ArrowLeftOutlined.js","../node_modules/@ant-design/icons/es/icons/ArrowLeftOutlined.js","pages/MapSearchPage.tsx","../node_modules/@ant-design/icons/es/icons/RightOutlined.js","../node_modules/@ant-design/icons/es/icons/LeftOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/LeftOutlined.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\nimport { Property } from '../types';\r\n\r\n// Декларация для window.ymaps\r\ndeclare global {\r\n  interface Window {\r\n    ymaps: any;\r\n  }\r\n}\r\n\r\ninterface UniversalMapYandexProps {\r\n  properties: Property[];\r\n  selectedId?: number | null;\r\n  onSelect?: (id: number) => void;\r\n  initialCenter?: [number, number];\r\n  initialZoom?: number;\r\n  style?: React.CSSProperties;\r\n  onBoundsChange?: (bounds: any) => void;\r\n}\r\n\r\nconst DEFAULT_CENTER: [number, number] = [55.751244, 37.618423];\r\nconst DEFAULT_ZOOM = 11;\r\n\r\nconst UniversalMapYandex: React.FC<UniversalMapYandexProps> = ({\r\n  properties,\r\n  selectedId,\r\n  onSelect,\r\n  initialCenter = DEFAULT_CENTER,\r\n  initialZoom = DEFAULT_ZOOM,\r\n  style = { height: 400, width: '100%' },\r\n  onBoundsChange,\r\n}) => {\r\n  const mapContainerRef = useRef<HTMLDivElement>(null);\r\n  const mapRef = useRef<any>(null);\r\n  const clustererRef = useRef<any>(null);\r\n  const markersRef = useRef<any[]>([]);\r\n  const skipNextBoundsChange = useRef(false);\r\n\r\n  // Инициализация карты\r\n  useEffect(() => {\r\n    if (!mapContainerRef.current) return;\r\n    if (mapRef.current) return;\r\n    const initMap = () => {\r\n      mapRef.current = new window.ymaps.Map(mapContainerRef.current, {\r\n        center: initialCenter,\r\n        zoom: initialZoom,\r\n        controls: ['zoomControl', 'fullscreenControl'],\r\n      });\r\n      if (onBoundsChange) {\r\n        mapRef.current.events.add('boundschange', () => {\r\n          if (skipNextBoundsChange.current) {\r\n            skipNextBoundsChange.current = false;\r\n            return;\r\n          }\r\n          const bounds = mapRef.current.getBounds();\r\n          if (bounds && bounds[0] && bounds[1]) {\r\n            const [sw, ne] = bounds;\r\n            onBoundsChange([sw[1], sw[0], ne[1], ne[0]]);\r\n          }\r\n        });\r\n      }\r\n    };\r\n    if (window.ymaps && window.ymaps.Map) {\r\n      initMap();\r\n    } else {\r\n      window.ymaps.ready(initMap);\r\n    }\r\n  }, [initialCenter, initialZoom, onBoundsChange]);\r\n\r\n  // Обновление маркеров и кластеров\r\n  useEffect(() => {\r\n    if (!mapRef.current || !window.ymaps) return;\r\n    // Удаляем старые маркеры и кластеры\r\n    if (clustererRef.current) {\r\n      mapRef.current.geoObjects.remove(clustererRef.current);\r\n      clustererRef.current = null;\r\n    }\r\n    markersRef.current = [];\r\n    // Создаём новые маркеры\r\n    const geoObjects = properties.filter(p => !isNaN(Number(p.lat)) && !isNaN(Number(p.lng))).map(p => {\r\n      // Получаем фото объекта\r\n      let photo = Array.isArray(p.photos) && p.photos.length > 0 ? p.photos[0] : (typeof p.photos === 'string' && p.photos ? JSON.parse(p.photos)[0] : null);\r\n      if (!photo) photo = '/placeholder-property.jpg';\r\n      // Формируем balloonContent с фото\r\n      const balloonHtml = `\r\n        <div style='width:180px'>\r\n          <img src='${photo}' alt='Фото' style='width:100%;height:90px;object-fit:cover;border-radius:8px;margin-bottom:6px;' onerror=\"this.src='/placeholder-property.jpg'\" loading='lazy' />\r\n          <b>${p.title}</b><br/>\r\n          ${p.address}<br/>\r\n          <a href='/properties/${p.id}'>Подробнее</a>\r\n        </div>\r\n      `;\r\n      const placemark = new window.ymaps.Placemark([Number(p.lat), Number(p.lng)], {\r\n        balloonContent: balloonHtml\r\n      }, {\r\n        preset: selectedId === p.id ? 'islands#redIcon' : 'islands#blueIcon',\r\n        iconColor: selectedId === p.id ? '#ff3333' : '#3388ff',\r\n      });\r\n      placemark.events.add('click', () => {\r\n        skipNextBoundsChange.current = true;\r\n        onSelect && onSelect(p.id);\r\n      });\r\n      markersRef.current.push(placemark);\r\n      return placemark;\r\n    });\r\n    // Кластеризация\r\n    clustererRef.current = new window.ymaps.Clusterer({\r\n      preset: 'islands#invertedBlueClusterIcons',\r\n      groupByCoordinates: false,\r\n      clusterDisableClickZoom: false,\r\n    });\r\n    clustererRef.current.add(geoObjects);\r\n    mapRef.current.geoObjects.add(clustererRef.current);\r\n  }, [properties, selectedId, onSelect]);\r\n\r\n  // Плавная анимация выделения маркера (смена preset)\r\n  useEffect(() => {\r\n    if (!window.ymaps || !markersRef.current.length) return;\r\n    markersRef.current.forEach(placemark => {\r\n      const id = placemark.properties.get('balloonContent').match(/properties\\/(\\d+)/)?.[1];\r\n      if (!id) return;\r\n      if (Number(id) === selectedId) {\r\n        placemark.options.set('preset', 'islands#redIcon');\r\n        placemark.options.set('iconColor', '#ff3333');\r\n      } else {\r\n        placemark.options.set('preset', 'islands#blueIcon');\r\n        placemark.options.set('iconColor', '#3388ff');\r\n      }\r\n    });\r\n  }, [selectedId]);\r\n\r\n  // Центрирование на выбранном объекте\r\n  useEffect(() => {\r\n    if (!mapRef.current || !selectedId) return;\r\n    const selected = properties.find(p => p.id === selectedId && !isNaN(Number(p.lat)) && !isNaN(Number(p.lng)));\r\n    if (selected) {\r\n      mapRef.current.setCenter([Number(selected.lat), Number(selected.lng)], mapRef.current.getZoom(), { duration: 300 });\r\n    }\r\n  }, [selectedId, properties]);\r\n\r\n  // Центрирование карты при изменении initialCenter\r\n  useEffect(() => {\r\n    if (mapRef.current && initialCenter) {\r\n      mapRef.current.setCenter(initialCenter, mapRef.current.getZoom(), { duration: 300 });\r\n    }\r\n  }, [initialCenter]);\r\n\r\n  return (\r\n    <div ref={mapContainerRef} style={style} />\r\n  );\r\n};\r\n\r\nexport default UniversalMapYandex; ","// This icon file is generated automatically.\nvar UserOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z\" } }] }, \"name\": \"user\", \"theme\": \"outlined\" };\nexport default UserOutlined;\n","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport UserOutlinedSvg from \"@ant-design/icons-svg/es/asn/UserOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nconst UserOutlined = (props, ref) => /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n  ref: ref,\n  icon: UserOutlinedSvg\n}));\n\n/**![user](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTg1OC41IDc2My42YTM3NCAzNzQgMCAwMC04MC42LTExOS41IDM3NS42MyAzNzUuNjMgMCAwMC0xMTkuNS04MC42Yy0uNC0uMi0uOC0uMy0xLjItLjVDNzE5LjUgNTE4IDc2MCA0NDQuNyA3NjAgMzYyYzAtMTM3LTExMS0yNDgtMjQ4LTI0OFMyNjQgMjI1IDI2NCAzNjJjMCA4Mi43IDQwLjUgMTU2IDEwMi44IDIwMS4xLS40LjItLjguMy0xLjIuNS00NC44IDE4LjktODUgNDYtMTE5LjUgODAuNmEzNzUuNjMgMzc1LjYzIDAgMDAtODAuNiAxMTkuNUEzNzEuNyAzNzEuNyAwIDAwMTM2IDkwMS44YTggOCAwIDAwOCA4LjJoNjBjNC40IDAgNy45LTMuNSA4LTcuOCAyLTc3LjIgMzMtMTQ5LjUgODcuOC0yMDQuMyA1Ni43LTU2LjcgMTMyLTg3LjkgMjEyLjItODcuOXMxNTUuNSAzMS4yIDIxMi4yIDg3LjlDNzc5IDc1Mi43IDgxMCA4MjUgODEyIDkwMi4yYy4xIDQuNCAzLjYgNy44IDggNy44aDYwYTggOCAwIDAwOC04LjJjLTEtNDcuOC0xMC45LTk0LjMtMjkuNS0xMzguMnpNNTEyIDUzNGMtNDUuOSAwLTg5LjEtMTcuOS0xMjEuNi01MC40UzM0MCA0MDcuOSAzNDAgMzYyYzAtNDUuOSAxNy45LTg5LjEgNTAuNC0xMjEuNlM0NjYuMSAxOTAgNTEyIDE5MHM4OS4xIDE3LjkgMTIxLjYgNTAuNFM2ODQgMzE2LjEgNjg0IDM2MmMwIDQ1LjktMTcuOSA4OS4xLTUwLjQgMTIxLjZTNTU3LjkgNTM0IDUxMiA1MzR6IiAvPjwvc3ZnPg==) */\nconst RefIcon = /*#__PURE__*/React.forwardRef(UserOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'UserOutlined';\n}\nexport default RefIcon;","// This icon file is generated automatically.\nvar RightOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z\" } }] }, \"name\": \"right\", \"theme\": \"outlined\" };\nexport default RightOutlined;\n","// This icon file is generated automatically.\nvar PhoneOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M877.1 238.7L770.6 132.3c-13-13-30.4-20.3-48.8-20.3s-35.8 7.2-48.8 20.3L558.3 246.8c-13 13-20.3 30.5-20.3 48.9 0 18.5 7.2 35.8 20.3 48.9l89.6 89.7a405.46 405.46 0 01-86.4 127.3c-36.7 36.9-79.6 66-127.2 86.6l-89.6-89.7c-13-13-30.4-20.3-48.8-20.3a68.2 68.2 0 00-48.8 20.3L132.3 673c-13 13-20.3 30.5-20.3 48.9 0 18.5 7.2 35.8 20.3 48.9l106.4 106.4c22.2 22.2 52.8 34.9 84.2 34.9 6.5 0 12.8-.5 19.2-1.6 132.4-21.8 263.8-92.3 369.9-198.3C818 606 888.4 474.6 910.4 342.1c6.3-37.6-6.3-76.3-33.3-103.4zm-37.6 91.5c-19.5 117.9-82.9 235.5-178.4 331s-213 158.9-330.9 178.4c-14.8 2.5-30-2.5-40.8-13.2L184.9 721.9 295.7 611l119.8 120 .9.9 21.6-8a481.29 481.29 0 00285.7-285.8l8-21.6-120.8-120.7 110.8-110.9 104.5 104.5c10.8 10.8 15.8 26 13.3 40.8z\" } }] }, \"name\": \"phone\", \"theme\": \"outlined\" };\nexport default PhoneOutlined;\n","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport PhoneOutlinedSvg from \"@ant-design/icons-svg/es/asn/PhoneOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nconst PhoneOutlined = (props, ref) => /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n  ref: ref,\n  icon: PhoneOutlinedSvg\n}));\n\n/**![phone](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTg3Ny4xIDIzOC43TDc3MC42IDEzMi4zYy0xMy0xMy0zMC40LTIwLjMtNDguOC0yMC4zcy0zNS44IDcuMi00OC44IDIwLjNMNTU4LjMgMjQ2LjhjLTEzIDEzLTIwLjMgMzAuNS0yMC4zIDQ4LjkgMCAxOC41IDcuMiAzNS44IDIwLjMgNDguOWw4OS42IDg5LjdhNDA1LjQ2IDQwNS40NiAwIDAxLTg2LjQgMTI3LjNjLTM2LjcgMzYuOS03OS42IDY2LTEyNy4yIDg2LjZsLTg5LjYtODkuN2MtMTMtMTMtMzAuNC0yMC4zLTQ4LjgtMjAuM2E2OC4yIDY4LjIgMCAwMC00OC44IDIwLjNMMTMyLjMgNjczYy0xMyAxMy0yMC4zIDMwLjUtMjAuMyA0OC45IDAgMTguNSA3LjIgMzUuOCAyMC4zIDQ4LjlsMTA2LjQgMTA2LjRjMjIuMiAyMi4yIDUyLjggMzQuOSA4NC4yIDM0LjkgNi41IDAgMTIuOC0uNSAxOS4yLTEuNiAxMzIuNC0yMS44IDI2My44LTkyLjMgMzY5LjktMTk4LjNDODE4IDYwNiA4ODguNCA0NzQuNiA5MTAuNCAzNDIuMWM2LjMtMzcuNi02LjMtNzYuMy0zMy4zLTEwMy40em0tMzcuNiA5MS41Yy0xOS41IDExNy45LTgyLjkgMjM1LjUtMTc4LjQgMzMxcy0yMTMgMTU4LjktMzMwLjkgMTc4LjRjLTE0LjggMi41LTMwLTIuNS00MC44LTEzLjJMMTg0LjkgNzIxLjkgMjk1LjcgNjExbDExOS44IDEyMCAuOS45IDIxLjYtOGE0ODEuMjkgNDgxLjI5IDAgMDAyODUuNy0yODUuOGw4LTIxLjYtMTIwLjgtMTIwLjcgMTEwLjgtMTEwLjkgMTA0LjUgMTA0LjVjMTAuOCAxMC44IDE1LjggMjYgMTMuMyA0MC44eiIgLz48L3N2Zz4=) */\nconst RefIcon = /*#__PURE__*/React.forwardRef(PhoneOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'PhoneOutlined';\n}\nexport default RefIcon;","// This icon file is generated automatically.\nvar ArrowLeftOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z\" } }] }, \"name\": \"arrow-left\", \"theme\": \"outlined\" };\nexport default ArrowLeftOutlined;\n","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport ArrowLeftOutlinedSvg from \"@ant-design/icons-svg/es/asn/ArrowLeftOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nconst ArrowLeftOutlined = (props, ref) => /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n  ref: ref,\n  icon: ArrowLeftOutlinedSvg\n}));\n\n/**![arrow-left](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTg3MiA0NzRIMjg2LjlsMzUwLjItMzA0YzUuNi00LjkgMi4yLTE0LTUuMi0xNGgtODguNWMtMy45IDAtNy42IDEuNC0xMC41IDMuOUwxNTUgNDg3LjhhMzEuOTYgMzEuOTYgMCAwMDAgNDguM0w1MzUuMSA4NjZjMS41IDEuMyAzLjMgMiA1LjIgMmg5MS41YzcuNCAwIDEwLjgtOS4yIDUuMi0xNEwyODYuOSA1NTBIODcyYzQuNCAwIDgtMy42IDgtOHYtNjBjMC00LjQtMy42LTgtOC04eiIgLz48L3N2Zz4=) */\nconst RefIcon = /*#__PURE__*/React.forwardRef(ArrowLeftOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'ArrowLeftOutlined';\n}\nexport default RefIcon;","import React from 'react';\r\nimport { List, Card, Spin, Input, Button, InputNumber, Select, Carousel, Modal, Avatar } from 'antd';\r\nimport UniversalMapYandex from '../components/UniversalMapYandex';\r\nimport { useLocation, useNavigate, useSearchParams } from 'react-router-dom';\r\nimport { CloseOutlined, ArrowLeftOutlined, PlusOutlined, PhoneOutlined, UserOutlined } from '@ant-design/icons';\r\nimport { AuthContext } from '../context/AuthContext';\r\nimport { usePropertiesContext } from '../context/PropertiesContext';\r\nimport { useClientMode } from '../context/ClientModeContext';\r\nimport { FixedSizeList as VirtualList } from 'react-window';\r\nimport { Skeleton } from 'antd';\r\nimport { useState } from 'react';\r\nimport AddToSelectionModal from '../components/AddToSelectionModal';\r\nimport OptimizedImage from '../components/OptimizedImage';\r\nimport PropertyCard from '../components/PropertyCard';\r\n\r\nconst statusOptions = [\r\n  { value: 'for_sale', label: 'В продаже' },\r\n  { value: 'in_deal', label: 'На задатке' },\r\n  { value: 'reserved', label: 'На брони' },\r\n  { value: 'sold', label: 'Продан' },\r\n];\r\nconst typeOptions = [\r\n  { value: 'apartment', label: 'Квартира' },\r\n  { value: 'house', label: 'Дом' },\r\n  { value: 'commercial', label: 'Коммерция' },\r\n  { value: 'land', label: 'Участок' },\r\n];\r\n\r\nexport default function MapSearchPage() {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const auth = React.useContext(AuthContext);\r\n  const { isClientMode } = useClientMode();\r\n  const {\r\n    filters,\r\n    updateFilters,\r\n    resetFilters,\r\n    bbox,\r\n    setBbox,\r\n    properties,\r\n    loading,\r\n    selectedId,\r\n    setSelectedId,\r\n    center,\r\n    setCenter\r\n  } = usePropertiesContext();\r\n  const [activeTab, setActiveTab] = React.useState<'active' | 'archive'>(\r\n    new URLSearchParams(location.search).get('tab') === 'archive' ? 'archive' : 'active'\r\n  );\r\n  const [show, setShow] = React.useState(false);\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n  const initializedRef = React.useRef(false);\r\n  const [delayedLoading, setDelayedLoading] = React.useState(false);\r\n  const loadingTimeout = React.useRef<any>(null);\r\n  const minShowTimeout = React.useRef<any>(null);\r\n  const [filtersOpen, setFiltersOpen] = useState(true);\r\n  const [addToSelectionId, setAddToSelectionId] = useState<number | null>(null);\r\n  const [agentModal, setAgentModal] = useState<{ open: boolean; agent: any } | null>(null);\r\n  const cardRefs = React.useRef<{ [id: number]: HTMLDivElement | null }>({});\r\n\r\n  React.useEffect(() => {\r\n    setTimeout(() => setShow(true), 10); // для плавной анимации\r\n  }, []);\r\n\r\n  // Инициализация состояния из URL\r\n  React.useEffect(() => {\r\n    if (initializedRef.current) return;\r\n    initializedRef.current = true;\r\n    const bboxParam = searchParams.get('bbox');\r\n    const selectedIdParam = searchParams.get('selectedId');\r\n    const filtersParam = searchParams.get('filters');\r\n    if (bboxParam) {\r\n      const arr = bboxParam.split(',').map(Number);\r\n      if (arr.length === 4 && arr.every(x => !isNaN(x))) setBbox(arr as any);\r\n    }\r\n    if (selectedIdParam) setSelectedId(Number(selectedIdParam));\r\n    if (filtersParam) {\r\n      try {\r\n        const parsed = JSON.parse(decodeURIComponent(filtersParam));\r\n        updateFilters(parsed);\r\n      } catch {}\r\n    }\r\n  }, [searchParams, setBbox, setSelectedId, updateFilters]);\r\n\r\n  // Сохранять состояние в URL при изменении\r\n  React.useEffect(() => {\r\n    const params: any = {};\r\n    if (bbox) params.bbox = bbox.join(',');\r\n    if (selectedId) params.selectedId = selectedId;\r\n    if (Object.keys(filters).length > 0) params.filters = encodeURIComponent(JSON.stringify(filters));\r\n    setSearchParams(params);\r\n  }, [bbox, selectedId, filters]);\r\n\r\n  // Фильтрация по табу (активные/архив)\r\n  let filteredProperties = properties.filter(p =>\r\n    activeTab === 'active' ? p.status !== 'sold' : p.status === 'sold'\r\n  );\r\n  if (bbox && Array.isArray(bbox) && bbox.length === 4) {\r\n    filteredProperties = filteredProperties.filter(p => {\r\n      if (typeof p.lat !== 'number' || typeof p.lng !== 'number') return false;\r\n      const [minLng, minLat, maxLng, maxLat] = bbox;\r\n      return p.lat >= minLat && p.lat <= maxLat && p.lng >= minLng && p.lng <= maxLng;\r\n    });\r\n  }\r\n\r\n  // При изменении границ карты обновлять bbox\r\n  const handleBoundsChange = (bboxArr: [number, number, number, number]) => {\r\n    setBbox(bboxArr);\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    if (loading) {\r\n      // Показываем спиннер только если загрузка дольше 250мс\r\n      loadingTimeout.current = setTimeout(() => {\r\n        setDelayedLoading(true);\r\n        // После появления держим минимум 400мс\r\n        minShowTimeout.current = setTimeout(() => {}, 400);\r\n      }, 250);\r\n    } else {\r\n      if (loadingTimeout.current) clearTimeout(loadingTimeout.current);\r\n      if (delayedLoading) {\r\n        // Если спиннер уже показан, держим его минимум 400мс\r\n        if (minShowTimeout.current) {\r\n          setTimeout(() => setDelayedLoading(false), 400);\r\n          clearTimeout(minShowTimeout.current);\r\n        } else {\r\n          setDelayedLoading(false);\r\n        }\r\n      }\r\n    }\r\n    return () => {\r\n      if (loadingTimeout.current) clearTimeout(loadingTimeout.current);\r\n      if (minShowTimeout.current) clearTimeout(minShowTimeout.current);\r\n    };\r\n  }, [loading]);\r\n\r\n  // Определяем, показывать windowing или обычный список\r\n  const maxListCount = 300;\r\n  const isFullCity = !bbox || (bbox && Math.abs(bbox[2] - bbox[0]) > 0.5 && Math.abs(bbox[3] - bbox[1]) > 0.5); // bbox > ~0.5 градуса — весь город\r\n  const listToShow = isFullCity ? filteredProperties : filteredProperties.slice(0, maxListCount);\r\n  const tooMany = listToShow.length > maxListCount;\r\n\r\n  function getThumbnail(photo: string | undefined): string | undefined {\r\n    if (!photo) return undefined;\r\n    if (photo.startsWith('/uploads/objects/')) {\r\n      const parts = photo.split('/');\r\n      return ['/uploads', 'objects', 'thumbnails', ...parts.slice(3)].join('/');\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  // Скролл к выбранной карточке\r\n  React.useEffect(() => {\r\n    if (selectedId && cardRefs.current[selectedId]) {\r\n      cardRefs.current[selectedId]?.scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n    }\r\n  }, [selectedId]);\r\n\r\n  return (\r\n    <div className={`big-map-page${show ? ' big-map-page--show' : ''}`} style={{ display: 'flex', height: 'calc(100vh - 80px)', position: 'relative', transition: 'background 0.5s' }}>\r\n      {/* Список объектов слева */}\r\n      <div style={{ width: 340, overflowY: 'auto', background: '#fff', borderRight: '1px solid #eee', padding: 8, display: 'flex', flexDirection: 'column', transition: 'transform 0.5s', transform: show ? 'translateX(0)' : 'translateX(-100%)', opacity: show ? 1 : 0 }}>\r\n        {/* Фильтры */}\r\n        <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'flex-start', width: 300 }}>\r\n          <Button type=\"default\" size=\"small\" style={{ marginBottom: 8 }} onClick={() => setFiltersOpen(v => !v)}>\r\n            {filtersOpen ? 'Скрыть фильтры' : 'Показать фильтры'}\r\n          </Button>\r\n          <div style={{ transition: 'max-height 0.3s, opacity 0.3s', overflow: 'hidden', maxHeight: filtersOpen ? 400 : 0, opacity: filtersOpen ? 1 : 0 }}>\r\n            <div style={{ marginBottom: 18, display: 'flex', flexDirection: 'column', gap: 10 }}>\r\n              <Input.Search\r\n                placeholder=\"Поиск по адресу или названию...\"\r\n                value={filters.search || ''}\r\n                onChange={e => updateFilters({ search: e.target.value })}\r\n                allowClear\r\n              />\r\n              <div style={{ display: 'flex', gap: 8 }}>\r\n                <InputNumber placeholder=\"Цена от\" min={0} value={filters.minPrice} onChange={v => updateFilters({ minPrice: v === null ? undefined : v })} style={{ width: 100 }} />\r\n                <InputNumber placeholder=\"до\" min={0} value={filters.maxPrice} onChange={v => updateFilters({ maxPrice: v === null ? undefined : v })} style={{ width: 100 }} />\r\n                <InputNumber placeholder=\"Площадь от\" min={0} value={filters.minArea} onChange={v => updateFilters({ minArea: v === null ? undefined : v })} style={{ width: 100 }} />\r\n                <InputNumber placeholder=\"до\" min={0} value={filters.maxArea} onChange={v => updateFilters({ maxArea: v === null ? undefined : v })} style={{ width: 100 }} />\r\n              </div>\r\n              <div style={{ display: 'flex', gap: 8 }}>\r\n                <Select\r\n                  placeholder=\"Статус\"\r\n                  allowClear\r\n                  value={filters.status}\r\n                  onChange={v => updateFilters({ status: v })}\r\n                  options={statusOptions}\r\n                  style={{ width: 120 }}\r\n                />\r\n                <Select\r\n                  placeholder=\"Тип\"\r\n                  allowClear\r\n                  value={filters.type}\r\n                  onChange={v => updateFilters({ type: v })}\r\n                  options={typeOptions}\r\n                  style={{ width: 120 }}\r\n                />\r\n              </div>\r\n              <Button onClick={resetFilters} style={{ borderRadius: 8, fontWeight: 500, marginTop: 8 }}>Сбросить</Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {/* Список объектов */}\r\n        <div style={{ background: '#fafbfc', padding: '8px 0', borderRadius: 12, minHeight: 400 }}>\r\n          {tooMany && (\r\n            <div style={{ color: '#ff9800', fontWeight: 500, textAlign: 'center', marginBottom: 12 }}>\r\n              Показаны только первые {maxListCount} объектов для ускорения работы\r\n            </div>\r\n          )}\r\n          {listToShow.map((item, index) => (\r\n            <React.Fragment key={item.id}>\r\n              <div\r\n                ref={el => { cardRefs.current[item.id] = el; }}\r\n                style={{\r\n                  display: 'flex',\r\n                  alignItems: 'stretch',\r\n                  padding: '0 4px',\r\n                  width: '100%',\r\n                  maxWidth: '100%',\r\n                  marginBottom: 8,\r\n                  background: item.id === selectedId ? '#e6f0ff' : 'transparent',\r\n                  borderRadius: 10,\r\n                  boxShadow: item.id === selectedId ? '0 0 0 2px #1976d2' : 'none',\r\n                  transition: 'background 0.2s, box-shadow 0.2s',\r\n                  position: 'relative',\r\n                  cursor: 'pointer',\r\n                  minHeight: 72,\r\n                }}\r\n                onClick={() => setSelectedId(item.id)}\r\n              >\r\n                <PropertyCard\r\n                  property={item}\r\n                  mode=\"compact\"\r\n                  showActions={false}\r\n                  style={{ fontSize: 14, minHeight: 60, padding: 8 }}\r\n                />\r\n                {/* Кнопка телефон */}\r\n                {!isClientMode && (\r\n                  <Button\r\n                    type=\"default\"\r\n                    icon={<PhoneOutlined />}\r\n                    style={{ position: 'absolute', bottom: 10, right: 10, zIndex: 2, borderRadius: 8, fontWeight: 600, height: 32, width: 32, minWidth: 32, padding: 0, fontSize: 16 }}\r\n                    onClick={e => { e.stopPropagation(); setAgentModal({ open: true, agent: item.agent }); }}\r\n                  />\r\n                )}\r\n              </div>\r\n            </React.Fragment>\r\n          ))}\r\n        </div>\r\n      </div>\r\n      {/* Карта */}\r\n      <div style={{ flex: 1, transition: 'all 0.5s', opacity: show ? 1 : 0, position: 'relative' }}>\r\n        {/* Кнопка возврата теперь на самой карте */}\r\n        <Button\r\n          type=\"default\"\r\n          icon={<ArrowLeftOutlined style={{ fontSize: 22 }} />}\r\n          onClick={() => navigate('/properties')}\r\n          style={{ position: 'absolute', top: 24, right: 24, zIndex: 1000, background: '#fff', borderRadius: '50%', boxShadow: '0 2px 8px rgba(40,60,90,0.10)', width: 48, height: 48, display: 'flex', alignItems: 'center', justifyContent: 'center' }}\r\n          aria-label=\"Вернуться к списку\"\r\n        />\r\n        {/* Спиннер только на карте */}\r\n        {delayedLoading && (\r\n          <div style={{ position: 'absolute', left: '50%', top: '50%', zIndex: 1001, transform: 'translate(-50%, -50%)' }}>\r\n            <Spin size=\"large\" />\r\n          </div>\r\n        )}\r\n        <UniversalMapYandex\r\n          properties={filteredProperties}\r\n          selectedId={selectedId}\r\n          onSelect={setSelectedId}\r\n          initialCenter={center}\r\n          initialZoom={12}\r\n          onBoundsChange={handleBoundsChange}\r\n          style={{ height: '100%', width: '100%' }}\r\n        />\r\n      </div>\r\n      <AddToSelectionModal open={!!addToSelectionId} propertyId={addToSelectionId || undefined} onClose={() => setAddToSelectionId(null)} />\r\n      {/* Модальное окно агента */}\r\n      {!isClientMode && (\r\n        <Modal\r\n          open={!!agentModal?.open}\r\n          onCancel={() => setAgentModal(null)}\r\n          footer={null}\r\n          title=\"Информация об агенте\"\r\n        >\r\n          {agentModal?.agent ? (\r\n            <div style={{ display: 'flex', alignItems: 'center', gap: 18 }}>\r\n              <Avatar size={64} src={agentModal.agent.photo} icon={<UserOutlined />} />\r\n              <div>\r\n                <div style={{ fontWeight: 700, fontSize: 18 }}>{agentModal.agent.firstName} {agentModal.agent.lastName}</div>\r\n                <div style={{ color: '#1976d2', fontSize: 17, margin: '4px 0', fontWeight: 500 }}><PhoneOutlined /> {agentModal.agent.phone}</div>\r\n                <div style={{ color: '#888', fontSize: 15 }}>{agentModal.agent.email || '—'}</div>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div>Нет информации об агенте</div>\r\n          )}\r\n        </Modal>\r\n      )}\r\n      <style>{`\r\n        .big-map-page {\r\n          background: #f8fafc;\r\n        }\r\n        .big-map-page--show {\r\n          background: #e9f0fb;\r\n        }\r\n        @media (max-width: 767px) {\r\n          .map-filters {\r\n            flex-direction: column !important;\r\n            gap: 8px !important;\r\n            padding: 12px !important;\r\n          }\r\n          .ant-btn, .ant-input, .ant-select {\r\n            font-size: 18px !important;\r\n            height: 48px !important;\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n} ","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport RightOutlinedSvg from \"@ant-design/icons-svg/es/asn/RightOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nconst RightOutlined = (props, ref) => /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n  ref: ref,\n  icon: RightOutlinedSvg\n}));\n\n/**![right](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTc2NS43IDQ4Ni44TDMxNC45IDEzNC43QTcuOTcgNy45NyAwIDAwMzAyIDE0MXY3Ny4zYzAgNC45IDIuMyA5LjYgNi4xIDEyLjZsMzYwIDI4MS4xLTM2MCAyODEuMWMtMy45IDMtNi4xIDcuNy02LjEgMTIuNlY4ODNjMCA2LjcgNy43IDEwLjQgMTIuOSA2LjNsNDUwLjgtMzUyLjFhMzEuOTYgMzEuOTYgMCAwMDAtNTAuNHoiIC8+PC9zdmc+) */\nconst RefIcon = /*#__PURE__*/React.forwardRef(RightOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'RightOutlined';\n}\nexport default RefIcon;","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport LeftOutlinedSvg from \"@ant-design/icons-svg/es/asn/LeftOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nconst LeftOutlined = (props, ref) => /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n  ref: ref,\n  icon: LeftOutlinedSvg\n}));\n\n/**![left](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTcyNCAyMTguM1YxNDFjMC02LjctNy43LTEwLjQtMTIuOS02LjNMMjYwLjMgNDg2LjhhMzEuODYgMzEuODYgMCAwMDAgNTAuM2w0NTAuOCAzNTIuMWM1LjMgNC4xIDEyLjkuNCAxMi45LTYuM3YtNzcuM2MwLTQuOS0yLjMtOS42LTYuMS0xMi42bC0zNjAtMjgxIDM2MC0yODEuMWMzLjgtMyA2LjEtNy43IDYuMS0xMi42eiIgLz48L3N2Zz4=) */\nconst RefIcon = /*#__PURE__*/React.forwardRef(LeftOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'LeftOutlined';\n}\nexport default RefIcon;","// This icon file is generated automatically.\nvar LeftOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z\" } }] }, \"name\": \"left\", \"theme\": \"outlined\" };\nexport default LeftOutlined;\n"],"names":["DEFAULT_CENTER","DEFAULT_ZOOM","_ref","properties","selectedId","onSelect","initialCenter","initialZoom","style","height","width","onBoundsChange","mapContainerRef","useRef","mapRef","clustererRef","markersRef","skipNextBoundsChange","useEffect","current","initMap","window","ymaps","Map","center","zoom","controls","events","add","bounds","getBounds","sw","ne","ready","geoObjects","remove","filter","p","isNaN","Number","lat","lng","map","photo","Array","isArray","photos","length","JSON","parse","balloonHtml","title","address","id","placemark","Placemark","balloonContent","preset","iconColor","push","Clusterer","groupByCoordinates","clusterDisableClickZoom","forEach","_placemark$properties","get","match","options","set","selected","find","setCenter","getZoom","duration","_jsx","ref","_extends","Object","assign","bind","target","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","UserOutlined","props","React","AntdIcon","icon","UserOutlinedSvg","PhoneOutlined","PhoneOutlinedSvg","ArrowLeftOutlined","ArrowLeftOutlinedSvg","statusOptions","value","label","typeOptions","MapSearchPage","location","useLocation","navigate","useNavigate","isClientMode","AuthContext","useClientMode","filters","updateFilters","resetFilters","bbox","setBbox","loading","setSelectedId","usePropertiesContext","activeTab","setActiveTab","URLSearchParams","search","show","setShow","searchParams","setSearchParams","useSearchParams","initializedRef","delayedLoading","setDelayedLoading","loadingTimeout","minShowTimeout","filtersOpen","setFiltersOpen","useState","addToSelectionId","setAddToSelectionId","agentModal","setAgentModal","cardRefs","setTimeout","bboxParam","selectedIdParam","filtersParam","arr","split","every","x","parsed","decodeURIComponent","params","join","keys","encodeURIComponent","stringify","filteredProperties","status","minLng","minLat","maxLng","maxLat","clearTimeout","listToShow","Math","abs","slice","tooMany","_cardRefs$current$sel","scrollIntoView","behavior","block","_jsxs","className","display","position","transition","children","overflowY","background","borderRight","padding","flexDirection","transform","opacity","alignItems","_Button","type","size","marginBottom","onClick","v","overflow","maxHeight","gap","_Input","Search","placeholder","onChange","e","allowClear","_InputNumber","min","minPrice","undefined","maxPrice","minArea","maxArea","_Select","borderRadius","fontWeight","marginTop","minHeight","color","textAlign","item","index","el","maxWidth","boxShadow","cursor","PropertyCard","property","mode","showActions","fontSize","bottom","right","zIndex","minWidth","stopPropagation","open","agent","flex","top","justifyContent","left","_Spin","UniversalMapYandex","bboxArr","AddToSelectionModal","propertyId","onClose","_Modal","onCancel","footer","_Avatar","src","firstName","lastName","margin","phone","email","RightOutlined","RightOutlinedSvg","LeftOutlined","LeftOutlinedSvg"],"sourceRoot":""}