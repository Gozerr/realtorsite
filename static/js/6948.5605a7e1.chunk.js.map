{"version":3,"file":"static/js/6948.5605a7e1.chunk.js","mappings":"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","sources":["services/property.service.ts","components/OptimizedImage.tsx","services/selection.service.ts","components/AddToSelectionModal.tsx","webpack://frontend/./src/components/GlassCard.module.css?5e64","components/PropertyCard.tsx"],"sourcesContent":["import api from './api';\r\nimport { Property, PaginatedResponse, FilterOptions } from '../types';\r\n\r\nexport const getAllProperties = async (filters?: FilterOptions): Promise<Property[]> => {\r\n  const params = new URLSearchParams();\r\n  if (filters) {\r\n    Object.entries(filters).forEach(([key, value]) => {\r\n      if (value !== undefined && value !== null && value !== '') {\r\n        params.append(key, value.toString());\r\n      }\r\n    });\r\n  }\r\n  \r\n  const response = await api.get(`/api/properties?${params.toString()}`);\r\n  // Унифицируем: если data - массив, возвращаем его, если объект с .properties - возвращаем его\r\n  if (Array.isArray(response.data)) return response.data;\r\n  if (response.data && Array.isArray(response.data.properties)) return response.data.properties;\r\n  return [];\r\n};\r\n\r\nexport const getPropertyById = async (id: string | number): Promise<Property> => {\r\n  const response = await api.get(`/api/properties/${id}`);\r\n  return response.data;\r\n};\r\n\r\nexport const createProperty = async (propertyData: Partial<Property>): Promise<Property> => {\r\n  const response = await api.post('/api/properties', propertyData);\r\n  return response.data;\r\n};\r\n\r\nexport const updateProperty = async (id: number, propertyData: Partial<Property>): Promise<Property> => {\r\n  const response = await api.patch(`/api/properties/${id}`, propertyData);\r\n  return response.data;\r\n};\r\n\r\nexport const deleteProperty = async (id: number): Promise<void> => {\r\n  await api.delete(`/api/properties/${id}`);\r\n};\r\n\r\nexport const getMyProperties = async (): Promise<Property[]> => {\r\n  const response = await api.get('/api/properties/my');\r\n  return response.data;\r\n};\r\n\r\nexport const getPropertiesByAgent = async (agentId: number): Promise<Property[]> => {\r\n  return getAllProperties({ agentId });\r\n};\r\n\r\nexport const getPropertiesByAgency = async (agencyId: number): Promise<Property[]> => {\r\n  const response = await api.get(`/api/properties/agency/${agencyId}`);\r\n  return response.data;\r\n};\r\n\r\nexport const uploadPropertyPhotos = async (propertyId: number, files: File[]): Promise<string[]> => {\r\n  const formData = new FormData();\r\n  files.forEach((file, index) => {\r\n    formData.append('photos', file);\r\n  });\r\n  \r\n  const response = await api.post(`/api/properties/${propertyId}/photos`, formData, {\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data',\r\n    },\r\n  });\r\n  \r\n  return response.data.urls;\r\n};\r\n\r\nexport const deletePropertyPhoto = async (propertyId: number, photoUrl: string): Promise<void> => {\r\n  await api.delete(`/api/properties/${propertyId}/photos`, {\r\n    data: { photoUrl }\r\n  });\r\n};\r\n\r\nexport const getPropertyStats = async (): Promise<any> => {\r\n  const response = await api.get('/api/properties/stats');\r\n  return response.data;\r\n};\r\n\r\nexport const searchProperties = async (query: string): Promise<Property[]> => {\r\n  const response = await api.get(`/api/properties/search?q=${encodeURIComponent(query)}`);\r\n  return response.data;\r\n};\r\n\r\nexport const getSimilarProperties = async (propertyId: number): Promise<Property[]> => {\r\n  const response = await api.get(`/api/properties/${propertyId}/similar`);\r\n  return response.data;\r\n};\r\n\r\nexport const togglePropertyFavorite = async (propertyId: number): Promise<void> => {\r\n  await api.post(`/api/properties/${propertyId}/favorite`);\r\n};\r\n\r\nexport const getFavoriteProperties = async (): Promise<Property[]> => {\r\n  const response = await api.get('/api/properties/favorites');\r\n  return response.data;\r\n};\r\n\r\nexport const exportProperties = async (filters?: FilterOptions): Promise<Blob> => {\r\n  const params = new URLSearchParams();\r\n  if (filters) {\r\n    Object.entries(filters).forEach(([key, value]) => {\r\n      if (value !== undefined && value !== null && value !== '') {\r\n        params.append(key, value.toString());\r\n      }\r\n    });\r\n  }\r\n  \r\n  const response = await api.get(`/api/properties/export?${params.toString()}`, {\r\n    responseType: 'blob'\r\n  });\r\n  \r\n  return response.data;\r\n}; \r\n\r\nexport const getRecentProperties = async (): Promise<Property[]> => {\r\n  const response = await api.get('/api/properties?sort=createdAt_desc&limit=10');\r\n  // Унифицируем: если data - массив, возвращаем его, если объект с .properties - возвращаем его\r\n  if (Array.isArray(response.data)) return response.data;\r\n  if (response.data && Array.isArray(response.data.properties)) return response.data.properties;\r\n  return [];\r\n};\r\n\r\nexport const updatePropertyStatus = async (id: number, status: string, token?: string): Promise<Property> => {\r\n  const response = await api.patch(`/api/properties/${id}/status`, { status }, token ? { headers: { Authorization: `Bearer ${token}` } } : undefined);\r\n  return response.data;\r\n}; ","import React, { useState, useRef, useEffect } from 'react';\r\nimport { Image, Skeleton } from 'antd';\r\nimport { PictureOutlined } from '@ant-design/icons';\r\n\r\ninterface OptimizedImageProps {\r\n  src: string;\r\n  alt: string;\r\n  width?: number | string;\r\n  height?: number | string;\r\n  className?: string;\r\n  style?: React.CSSProperties;\r\n  fallback?: string;\r\n  placeholder?: React.ReactNode;\r\n  onLoad?: () => void;\r\n  onError?: () => void;\r\n  lazy?: boolean;\r\n  quality?: number;\r\n  preview?: boolean;\r\n}\r\n\r\nconst OptimizedImage: React.FC<OptimizedImageProps> = ({\r\n  src,\r\n  alt,\r\n  width,\r\n  height,\r\n  className,\r\n  style,\r\n  fallback = '/placeholder-image.jpg',\r\n  placeholder,\r\n  onLoad,\r\n  onError,\r\n  lazy = true,\r\n  quality = 80,\r\n  preview = false,\r\n}) => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(false);\r\n  const [imageSrc, setImageSrc] = useState(src);\r\n  const imgRef = useRef<HTMLImageElement>(null);\r\n\r\n  useEffect(() => {\r\n    setImageSrc(src);\r\n    setError(false);\r\n    setLoading(true);\r\n  }, [src]);\r\n\r\n  const handleLoad = () => {\r\n    setLoading(false);\r\n    onLoad?.();\r\n  };\r\n\r\n  const handleError = () => {\r\n    setLoading(false);\r\n    setError(true);\r\n    if (imageSrc !== fallback) {\r\n      setImageSrc(fallback);\r\n    }\r\n    onError?.();\r\n  };\r\n\r\n  // Custom placeholder\r\n  const customPlaceholder = placeholder || (\r\n    <div\r\n      style={{\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        backgroundColor: '#f5f5f5',\r\n        color: '#999',\r\n        fontSize: '14px',\r\n        width: '100%',\r\n        height: '100%',\r\n      }}\r\n    >\r\n      <PictureOutlined style={{ fontSize: '24px', marginRight: '8px' }} />\r\n      Загрузка...\r\n    </div>\r\n  );\r\n\r\n  // Убираем srcSet и webp-альтернативу, всегда используем только оригинал\r\n  // const getSrcSet = () => undefined;\r\n\r\n  if (error && imageSrc === fallback) {\r\n    return (\r\n      <div\r\n        style={{\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          backgroundColor: '#f5f5f5',\r\n          color: '#999',\r\n          width: width || '100%',\r\n          height: height || '200px',\r\n          ...style,\r\n        }}\r\n        className={className}\r\n      >\r\n        <PictureOutlined style={{ fontSize: '24px', marginRight: '8px' }} />\r\n        Изображение недоступно\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={{ position: 'relative', width, height, ...style }} className={className}>\r\n      {loading && (\r\n        <Skeleton.Image\r\n          active\r\n          style={{\r\n            position: 'absolute',\r\n            top: 0,\r\n            left: 0,\r\n            width: '100%',\r\n            height: '100%',\r\n            zIndex: 1,\r\n          }}\r\n        />\r\n      )}\r\n      <img\r\n        src={imageSrc}\r\n        alt={alt}\r\n        width={width}\r\n        height={height}\r\n        style={{\r\n          opacity: loading ? 0 : 1,\r\n          transition: 'opacity 0.3s ease',\r\n          width: width || '100%',\r\n          height: height || 'auto',\r\n          ...style,\r\n        }}\r\n        onLoad={handleLoad}\r\n        onError={handleError}\r\n        loading={lazy ? 'lazy' : undefined}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OptimizedImage; ","import api from './api';\r\n\r\nexport type Selection = {\r\n  id: number;\r\n  title: string;\r\n  date?: string;\r\n  propertyIds: number[];\r\n  createdAt?: string;\r\n};\r\n\r\nexport async function fetchSelections(): Promise<Selection[]> {\r\n  try {\r\n    const res = await api.get<Selection[]>('/api/selections');\r\n    return res.data;\r\n  } catch (err: any) {\r\n    if (err.response && err.response.status === 404) {\r\n      return [];\r\n    }\r\n    throw err;\r\n  }\r\n}\r\n\r\nexport async function createSelection(title: string, token?: string): Promise<Selection> {\r\n  const headers = token ? { Authorization: `Bearer ${token}` } : undefined;\r\n  const res = await api.post<Selection>('/api/selections', { title, propertyIds: [] }, headers ? { headers } : undefined);\r\n  return res.data;\r\n}\r\n\r\nexport async function addPropertyToSelection(selectionId: number, propertyId: number): Promise<void> {\r\n  const res = await api.get<Selection>(`/api/selections/${selectionId}`);\r\n  const selection = res.data;\r\n  if (!selection.propertyIds.includes(propertyId)) {\r\n    const updated = [...selection.propertyIds, propertyId];\r\n    await api.put(`/api/selections/${selectionId}`, { title: selection.title, propertyIds: updated });\r\n  }\r\n}\r\n\r\nexport async function removePropertyFromSelection(selectionId: number, propertyId: number): Promise<void> {\r\n  const res = await api.get<Selection>(`/api/selections/${selectionId}`);\r\n  const selection = res.data;\r\n  const updated = selection.propertyIds.filter(id => id !== propertyId);\r\n  await api.put(`/api/selections/${selectionId}`, { title: selection.title, propertyIds: updated });\r\n}\r\n\r\nexport async function deleteSelection(selectionId: number): Promise<void> {\r\n  await api.delete(`/api/selections/${selectionId}`);\r\n}\r\n\r\nexport async function getSelectionById(selectionId: number): Promise<Selection & { clientToken?: string }> {\r\n  const res = await api.get(`/api/selections/${selectionId}`);\r\n  return res.data;\r\n}\r\n\r\nexport async function getClientLikes(selectionId: number): Promise<{ propertyId: number; liked: boolean }[]> {\r\n  const res = await api.get(`/api/selections/${selectionId}/client-likes`);\r\n  return res.data;\r\n}\r\n\r\nexport function getClientLink(clientToken: string): string {\r\n  return `${window.location.origin}/client-selection/${clientToken}`;\r\n}\r\n\r\nexport async function downloadSelectionPdf(selectionId: number): Promise<void> {\r\n  const res = await api.get(`/api/selections/${selectionId}/pdf`, { responseType: 'blob' });\r\n  const url = window.URL.createObjectURL(new Blob([res.data], { type: 'application/pdf' }));\r\n  const link = document.createElement('a');\r\n  link.href = url;\r\n  link.setAttribute('download', `selection_${selectionId}.pdf`);\r\n  document.body.appendChild(link);\r\n  link.click();\r\n  link.parentNode?.removeChild(link);\r\n  window.URL.revokeObjectURL(url);\r\n}\r\n\r\nexport async function getSelectionByClientToken(token: string): Promise<any> {\r\n  const res = await api.get(`/api/selections/client/${token}`);\r\n  return res.data;\r\n}\r\n\r\nexport async function sendClientLike(token: string, propertyId: number, liked: boolean): Promise<void> {\r\n  await api.post(`/api/selections/client/${token}/like`, { propertyId, liked });\r\n} ","import React, { useEffect, useState } from 'react';\r\nimport { Modal, Select, Input, Button, message } from 'antd';\r\nimport { fetchSelections, createSelection, addPropertyToSelection, Selection } from '../services/selection.service';\r\n\r\ninterface AddToSelectionModalProps {\r\n  open: boolean;\r\n  propertyId?: number;\r\n  onClose: () => void;\r\n  createOnly?: boolean;\r\n}\r\n\r\nconst AddToSelectionModal: React.FC<AddToSelectionModalProps> = ({ open, propertyId, onClose, createOnly }) => {\r\n  const [selections, setSelections] = useState<Selection[]>([]);\r\n  const [selectedId, setSelectedId] = useState<number | undefined>();\r\n  const [newTitle, setNewTitle] = useState('');\r\n  const [creating, setCreating] = useState(false);\r\n  const [adding, setAdding] = useState(false);\r\n\r\n  // Получаем токен пользователя\r\n  const token = localStorage.getItem('token');\r\n\r\n  useEffect(() => {\r\n    if (open) {\r\n      fetchSelections().then(setSelections);\r\n      setSelectedId(undefined);\r\n      setNewTitle('');\r\n    }\r\n  }, [open]);\r\n\r\n  const handleCreate = async () => {\r\n    if (!newTitle.trim()) return;\r\n    setCreating(true);\r\n    try {\r\n      const newSel = await createSelection(newTitle.trim(), token || undefined);\r\n      setSelections(prev => [...prev, newSel]);\r\n      setSelectedId(newSel.id);\r\n      setNewTitle('');\r\n      message.success('Подборка создана');\r\n      if (createOnly) onClose();\r\n    } finally {\r\n      setCreating(false);\r\n    }\r\n  };\r\n\r\n  const handleAdd = async () => {\r\n    if (!selectedId || !propertyId) return;\r\n    setAdding(true);\r\n    try {\r\n      await addPropertyToSelection(selectedId, propertyId);\r\n      message.success('Объект добавлен в подборку');\r\n      onClose();\r\n    } finally {\r\n      setAdding(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal open={open} onCancel={onClose} footer={null} title={createOnly ? 'Создать подборку' : 'Добавить в подборку'} destroyOnHidden>\r\n      <div onClick={e => e.stopPropagation()}>\r\n        {!createOnly && (\r\n          <div style={{ marginBottom: 16 }}>\r\n            <div style={{ marginBottom: 8, fontWeight: 500 }}>Выберите подборку</div>\r\n            <Select\r\n              style={{ width: '100%' }}\r\n              placeholder=\"Выберите подборку\"\r\n              value={selectedId}\r\n              onChange={setSelectedId}\r\n              options={selections.map(s => ({ label: s.title, value: s.id }))}\r\n              allowClear\r\n            />\r\n          </div>\r\n        )}\r\n        <div style={{ marginBottom: 16 }}>\r\n          <div style={{ marginBottom: 8, fontWeight: 500 }}>Или создайте новую</div>\r\n          <Input\r\n            placeholder=\"Название подборки\"\r\n            value={newTitle}\r\n            onChange={e => setNewTitle(e.target.value)}\r\n            style={{ width: 'calc(100% - 110px)', marginRight: 8 }}\r\n            onPressEnter={handleCreate}\r\n          />\r\n          <Button type=\"primary\" onClick={handleCreate} disabled={!newTitle.trim()} loading={creating}>\r\n            Создать\r\n          </Button>\r\n        </div>\r\n        {!createOnly && (\r\n          <Button type=\"primary\" block disabled={!selectedId} onClick={e => { e.stopPropagation(); handleAdd(); }} loading={adding}>\r\n            Добавить\r\n          </Button>\r\n        )}\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default AddToSelectionModal; ","// extracted by mini-css-extract-plugin\nexport default {\"glassCard\":\"GlassCard_glassCard__YwNhC\",\"fadeInUp\":\"GlassCard_fadeInUp__XdHKX\",\"cardImage\":\"GlassCard_cardImage__BN9aa\",\"cardContent\":\"GlassCard_cardContent__JxWZa\",\"cardTitle\":\"GlassCard_cardTitle__yEOLO\",\"cardMeta\":\"GlassCard_cardMeta__pw5Ib\",\"cardActions\":\"GlassCard_cardActions__0wxcW\",\"ant-btn\":\"GlassCard_ant-btn__D1-Zo\",\"anticon\":\"GlassCard_anticon__7LG7f\",\"avitoCard\":\"GlassCard_avitoCard__CKh9N\"};","import React, { useState, useContext, useRef, useCallback } from 'react';\r\nimport { Card, Carousel, Tag, Button, Tooltip, Modal, Form, Select, Space, Typography, Skeleton, Badge } from 'antd';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Property } from '../types';\r\nimport { MessageOutlined, PlusOutlined, HeartOutlined, HeartFilled, EyeOutlined, EditOutlined, DeleteOutlined, UserOutlined, PropertySafetyOutlined, WarningOutlined, SyncOutlined, LeftOutlined, RightOutlined } from '@ant-design/icons';\r\nimport AddToSelectionModal from './AddToSelectionModal';\r\nimport { updatePropertyStatus } from '../services/property.service';\r\nimport { AuthContext } from '../context/AuthContext';\r\nimport { useClientMode } from '../context/ClientModeContext';\r\nimport OptimizedImage from './OptimizedImage';\r\nimport styles from './GlassCard.module.css';\r\nimport { message } from 'antd';\r\n\r\nconst { Text, Title } = Typography;\r\n\r\nconst statusOptions = [\r\n  { value: 'for_sale', label: 'В продаже', color: 'green' },\r\n  { value: 'in_deal', label: 'На задатке', color: 'orange' },\r\n  { value: 'reserved', label: 'На брони', color: 'blue' },\r\n  { value: 'sold', label: 'Продан', color: 'red' },\r\n];\r\n\r\ntype PropertyCardProps = {\r\n  property: Property;\r\n  onStatusChange?: (id: number, status: string, property: Property) => void;\r\n  mode?: 'default' | 'compact' | 'avito';\r\n  onFavorite?: (propertyId: number) => void;\r\n  onEdit?: (propertyId: number) => void;\r\n  onDelete?: (propertyId: number) => void;\r\n  isFavorite?: boolean;\r\n  loading?: boolean;\r\n  showActions?: boolean;\r\n  allowStatusEdit?: boolean;\r\n  style?: React.CSSProperties;\r\n};\r\n\r\nfunction normalizePhotos(photos: any): string[] {\r\n  if (Array.isArray(photos)) return photos;\r\n  if (typeof photos === 'string') {\r\n    try {\r\n      const arr = JSON.parse(photos);\r\n      return Array.isArray(arr) ? arr : [];\r\n    } catch {\r\n      return [];\r\n    }\r\n  }\r\n  return [];\r\n}\r\n\r\nfunction getThumbnail(photo: string | undefined): string | undefined {\r\n  if (!photo) return undefined;\r\n  if (photo.startsWith('/uploads/objects/')) {\r\n    const parts = photo.split('/');\r\n    // вставляем 'thumbnails' после 'objects'\r\n    return ['/uploads', 'objects', 'thumbnails', ...parts.slice(3)].join('/');\r\n  }\r\n  return undefined;\r\n}\r\n\r\nconst PropertyCard: React.FC<PropertyCardProps> = ({\r\n  property,\r\n  onStatusChange,\r\n  mode = 'default',\r\n  onFavorite,\r\n  onEdit,\r\n  onDelete,\r\n  isFavorite = false,\r\n  loading = false,\r\n  showActions = true,\r\n  allowStatusEdit = true,\r\n  style,\r\n}) => {\r\n  const images: string[] = normalizePhotos(property.photos) || property.images || [];\r\n  const navigate = useNavigate();\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const [statusModalOpen, setStatusModalOpen] = useState(false);\r\n  const [selectedStatus, setSelectedStatus] = useState(property.status);\r\n  const auth = useContext(AuthContext);\r\n  const currentUser = auth?.user;\r\n  const { isClientMode } = useClientMode();\r\n  const carouselRef = useRef<any>(null);\r\n  const [lastDirection, setLastDirection] = useState<'left' | 'right' | null>(null);\r\n  const [hovered, setHovered] = useState(false);\r\n  const [dragStartX, setDragStartX] = useState<number | null>(null);\r\n  const [dragLastX, setDragLastX] = useState<number | null>(null);\r\n  const [lastSegment, setLastSegment] = useState<number | null>(null);\r\n  const [imageLoading, setImageLoading] = useState(true);\r\n  const [phoneModalOpen, setPhoneModalOpen] = useState(false);\r\n  const [isChatModalOpen, setIsChatModalOpen] = useState(false);\r\n  const currentUserId = auth?.user?.id;\r\n  const agentId = property.agent?.id;\r\n  const propertyId = property.id;\r\n  const roomName = propertyId && currentUserId && agentId && currentUserId !== agentId\r\n    ? `property-${propertyId}-agent-${currentUserId < agentId ? currentUserId + '-' + agentId : agentId + '-' + currentUserId}`\r\n    : '';\r\n  const rocketChatUrl = roomName ? `https://open.rocket.chat/channel/${roomName}` : '';\r\n\r\n  // Агент может менять статус только если он привязан к объекту\r\n  const canEditStatus =\r\n    allowStatusEdit &&\r\n    currentUser &&\r\n    currentUser.role === 'agent' &&\r\n    property.agent &&\r\n    property.agent.id === currentUser.id;\r\n\r\n  // Проверяем, доступен ли чат для этого объекта (только если агент не сам себе)\r\n  const isChatAvailable = property.agent && currentUser && property.agent.id !== currentUser.id;\r\n\r\n  const currentStatus = statusOptions.find(opt => opt.value === property.status) || statusOptions[0];\r\n\r\n  const handleTagClick = (e: React.MouseEvent) => {\r\n    e.stopPropagation();\r\n    setSelectedStatus(property.status);\r\n    setStatusModalOpen(true);\r\n  };\r\n\r\n  const handleSaveStatus = async (newStatus?: string) => {\r\n    setStatusModalOpen(false);\r\n    const statusToSet = newStatus || selectedStatus;\r\n    if (statusToSet !== property.status) {\r\n      try {\r\n        console.log('Отправка запроса на смену статуса:', statusToSet);\r\n        const updated = await updatePropertyStatus(property.id, statusToSet, auth?.token || undefined);\r\n        onStatusChange && onStatusChange(property.id, updated.status, updated);\r\n        message.success('Статус успешно обновлён!');\r\n      } catch (error: any) {\r\n        console.error('Ошибка смены статуса:', error);\r\n        const errorMsg = error?.response?.data?.message || error.message || 'Не удалось обновить статус';\r\n        message.error(errorMsg);\r\n      }\r\n    }\r\n  };\r\n\r\n  // --- Логика для mouse move: листаем по сегментам ширины ---\r\n  const handleMouseMoveSlider = (e: React.MouseEvent<HTMLDivElement, MouseEvent>, images: string[]) => {\r\n    if (!images.length || !carouselRef.current) return;\r\n    const rect = (e.currentTarget as HTMLDivElement).getBoundingClientRect();\r\n    const x = e.clientX - rect.left;\r\n    const segmentCount = images.length;\r\n    const segmentWidth = rect.width / segmentCount;\r\n    const currentSegment = Math.floor(x / segmentWidth);\r\n    if (lastSegment === null) {\r\n      setLastSegment(currentSegment);\r\n      setDragLastX(x);\r\n      return;\r\n    }\r\n    if (currentSegment > lastSegment) {\r\n      carouselRef.current.next();\r\n      setLastSegment(currentSegment);\r\n    } else if (currentSegment < lastSegment) {\r\n      carouselRef.current.prev();\r\n      setLastSegment(currentSegment);\r\n    }\r\n    setDragLastX(x);\r\n  };\r\n  const handleMouseLeaveSlider = () => {\r\n    setDragStartX(null);\r\n    setDragLastX(null);\r\n    setLastSegment(null);\r\n    setLastDirection(null);\r\n    setHovered(false);\r\n  };\r\n\r\n  const handleCardClick = useCallback(() => {\r\n    navigate(`/properties/${property.id}`);\r\n  }, [navigate, property.id]);\r\n\r\n  const handleFavoriteClick = useCallback((e: React.MouseEvent) => {\r\n    e.stopPropagation();\r\n    onFavorite?.(property.id);\r\n  }, [onFavorite, property.id]);\r\n\r\n  const handleEditClick = useCallback((e: React.MouseEvent) => {\r\n    e.stopPropagation();\r\n    onEdit?.(property.id);\r\n  }, [onEdit, property.id]);\r\n\r\n  const handleDeleteClick = useCallback((e: React.MouseEvent) => {\r\n    e.stopPropagation();\r\n    onDelete?.(property.id);\r\n  }, [onDelete, property.id]);\r\n\r\n  // --- Слайдер для фото ---\r\n  const [currentSlide, setCurrentSlide] = useState(0);\r\n  const sliderRef = useRef<HTMLDivElement>(null);\r\n  const dragState = useRef({ startX: 0, dragging: false, lastX: 0 });\r\n\r\n  const handleDragStart = (e: React.MouseEvent | React.TouchEvent) => {\r\n    dragState.current.dragging = true;\r\n    if ('touches' in e) {\r\n      const evt = e as unknown as React.TouchEvent;\r\n      if (evt.touches && evt.touches.length > 0) {\r\n        dragState.current.startX = evt.touches[0].clientX;\r\n        dragState.current.lastX = evt.touches[0].clientX;\r\n      }\r\n    } else {\r\n      const evt = e as React.MouseEvent;\r\n      dragState.current.startX = evt.clientX;\r\n      dragState.current.lastX = evt.clientX;\r\n    }\r\n  };\r\n  const handleDragMove = (e: React.MouseEvent | React.TouchEvent) => {\r\n    if (!dragState.current.dragging) return;\r\n    let x;\r\n    if ('touches' in e) {\r\n      const evt = e as unknown as React.TouchEvent;\r\n      if (evt.touches && evt.touches.length > 0) {\r\n        x = evt.touches[0].clientX;\r\n      } else {\r\n        return;\r\n      }\r\n    } else {\r\n      const evt = e as React.MouseEvent;\r\n      x = evt.clientX;\r\n    }\r\n    const dx = x - dragState.current.lastX;\r\n    dragState.current.lastX = x;\r\n    // Можно добавить визуальный сдвиг, если нужно\r\n  };\r\n  const handleDragEnd = (e: React.MouseEvent | React.TouchEvent) => {\r\n    if (!dragState.current.dragging) return;\r\n    dragState.current.dragging = false;\r\n    let endX;\r\n    if ('changedTouches' in e) {\r\n      const evt = e as unknown as React.TouchEvent;\r\n      if (evt.changedTouches && evt.changedTouches.length > 0) {\r\n        endX = evt.changedTouches[0].clientX;\r\n      } else {\r\n        return;\r\n      }\r\n    } else if ('touches' in e) {\r\n      const evt = e as unknown as React.TouchEvent;\r\n      if (evt.touches && evt.touches.length > 0) {\r\n        endX = evt.touches[0].clientX;\r\n      } else {\r\n        return;\r\n      }\r\n    } else {\r\n      const evt = e as React.MouseEvent;\r\n      endX = evt.clientX;\r\n    }\r\n    const delta = endX - dragState.current.startX;\r\n    if (Math.abs(delta) > 40) {\r\n      if (delta < 0 && currentSlide < images.length - 1) setCurrentSlide(currentSlide + 1);\r\n      if (delta > 0 && currentSlide > 0) setCurrentSlide(currentSlide - 1);\r\n    }\r\n  };\r\n  const goToPrev = (e?: React.MouseEvent) => {\r\n    e?.stopPropagation();\r\n    if (currentSlide > 0) setCurrentSlide(currentSlide - 1);\r\n  };\r\n  const goToNext = (e?: React.MouseEvent) => {\r\n    e?.stopPropagation();\r\n    if (currentSlide < images.length - 1) setCurrentSlide(currentSlide + 1);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Card style={{ width: 300, marginBottom: 16, ...style }}>\r\n        <Skeleton.Image active style={{ width: '100%', height: 200 }} />\r\n        <Skeleton active paragraph={{ rows: 3 }} />\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  const mainImage = (property.photos && Array.isArray(property.photos) && property.photos[0])\r\n    || (typeof property.photos === 'string' && (() => { try { const arr = JSON.parse(property.photos); return Array.isArray(arr) && arr[0] ? arr[0] : null; } catch { return null; } })())\r\n    || '/placeholder-property.jpg';\r\n\r\n  // Форматирование цены с пробелами\r\n  const formatPrice = (price?: number | string) => {\r\n    const num = Number(price);\r\n    if (!num || isNaN(num)) return '—';\r\n    return num.toLocaleString('ru-RU') + ' руб';\r\n  };\r\n\r\n  // Новый единый стиль карточки:\r\n  const isModalActive = modalOpen || phoneModalOpen;\r\n\r\n  // --- Кнопки для связи через мессенджеры ---\r\n  const renderAgentMessengers = () => {\r\n    if (!property.agent) return null;\r\n    let { telegramUsername, whatsappNumber } = property.agent;\r\n    // Удаляем символ @ в начале username, если он есть\r\n    if (telegramUsername) {\r\n      telegramUsername = telegramUsername.replace(/^@/, '');\r\n    }\r\n    return (\r\n      <Space style={{ marginTop: 8 }}>\r\n        {telegramUsername && (\r\n          <a href={`https://t.me/${telegramUsername}`} target=\"_blank\" rel=\"noopener noreferrer\">\r\n            <img src=\"/telegram-icon.svg\" alt=\"Telegram\" style={{ width: 24, height: 24 }} />\r\n          </a>\r\n        )}\r\n        {whatsappNumber && (\r\n          <a href={`https://wa.me/${whatsappNumber.replace(/\\D/g, '')}`} target=\"_blank\" rel=\"noopener noreferrer\">\r\n            <img src=\"/whatsapp-icon.svg\" alt=\"WhatsApp\" style={{ width: 24, height: 24 }} />\r\n          </a>\r\n        )}\r\n      </Space>\r\n    );\r\n  };\r\n\r\n  const legalStatus = property.legalCheck?.status || 'Не проверен';\r\n  let legalIcon = <PropertySafetyOutlined style={{ fontSize: 20, color: '#faad14' }} />;\r\n  let legalColor = '#faad14';\r\n  let legalText = 'Не проверен';\r\n  if (legalStatus === 'Проверен') {\r\n    legalIcon = <PropertySafetyOutlined style={{ fontSize: 20, color: '#52c41a' }} />;\r\n    legalColor = '#52c41a';\r\n    legalText = 'Проверен';\r\n  } else if (legalStatus === 'На проверке') {\r\n    legalIcon = <SyncOutlined spin style={{ fontSize: 20, color: '#1890ff' }} />;\r\n    legalColor = '#1890ff';\r\n    legalText = 'На проверке';\r\n  }\r\n\r\n  if (mode === 'avito') {\r\n    return (\r\n      <div\r\n        className={styles.avitoCard}\r\n        style={{ display: 'flex', flexDirection: 'row', alignItems: 'stretch', background: '#fff', borderRadius: 12, boxShadow: '0 2px 8px #e6eaf1', minHeight: 120, margin: '12px 0', padding: 0, cursor: isModalActive ? 'default' : 'pointer', transition: 'box-shadow 0.18s', width: '100%', maxWidth: '100%' }}\r\n        onClick={() => navigate(`/properties/${property.id}`)}\r\n      >\r\n        <div style={{ width: 100, height: 100, borderRadius: 10, overflow: 'hidden', flexShrink: 0, background: '#f5f6fa', display: 'flex', alignItems: 'center', justifyContent: 'center', margin: 14 }}>\r\n          <OptimizedImage\r\n            src={mainImage}\r\n            alt={property.title}\r\n            preview={false}\r\n            width={100}\r\n            height={100}\r\n            style={{ objectFit: 'cover', width: 100, height: 100, borderRadius: 10 }}\r\n            lazy={true}\r\n            fallback=\"/placeholder-property.jpg\"\r\n          />\r\n        </div>\r\n        <div style={{ flex: 1, display: 'flex', flexDirection: 'column', justifyContent: 'space-between', padding: '16px 18px 16px 0', minWidth: 0 }}>\r\n          <div style={{ fontSize: 20, fontWeight: 800, color: '#222', lineHeight: 1.1, whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis' }}>{formatPrice(property.price)}</div>\r\n          <div style={{ fontSize: 16, color: '#222', fontWeight: 600, marginBottom: 6, whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis', lineHeight: 1.2 }}>{property.title}</div>\r\n          <div style={{ fontSize: 14, color: '#888', marginBottom: 6, whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis', display: 'flex', alignItems: 'center', gap: 4, lineHeight: 1.2 }}>\r\n            <span role=\"img\" aria-label=\"address\">📍</span> {property.address}\r\n          </div>\r\n          <div style={{ fontSize: 14, color: '#666', marginBottom: 8, display: 'flex', gap: 14, lineHeight: 1.2 }}>\r\n            <span>{property.area} м²</span>\r\n            {property.floor && property.floors && (\r\n              <span>{property.floor}/{property.floors} эт.</span>\r\n            )}\r\n            {property.type && <span>{property.type}</span>}\r\n          </div>\r\n          {/* Блок юридической чистоты — современный стиль */}\r\n          <div style={{\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            gap: 14,\r\n            margin: '14px 0 10px 0',\r\n            padding: '14px 18px',\r\n            background: '#fff',\r\n            borderRadius: 14,\r\n            boxShadow: '0 2px 12px #e6eaf133',\r\n            maxWidth: 420,\r\n            minHeight: 56,\r\n          }}>\r\n            <div style={{ fontSize: 28, flexShrink: 0 }}>\r\n              {legalIcon}\r\n            </div>\r\n            <div style={{ display: 'flex', flexDirection: 'column', gap: 2 }}>\r\n              <span style={{ fontWeight: 700, fontSize: 15, color: legalColor, marginBottom: 2 }}>\r\n                Юридическая чистота: {legalText}\r\n              </span>\r\n              {property.legalCheck?.details && <span style={{ color: '#888', fontSize: 12 }}>{property.legalCheck.details}</span>}\r\n              {property.legalCheck?.date && <span style={{ color: '#b0b6c3', fontSize: 11 }}>{property.legalCheck?.date}</span>}\r\n            </div>\r\n          </div>\r\n          {!isClientMode && (\r\n            <>\r\n              <div style={{ display: 'flex', alignItems: 'center', gap: 10, marginTop: 8 }}>\r\n                {property.agent?.photo && (\r\n                  <picture>\r\n                    {property.agent.photo.match(/\\.(jpg|jpeg|png)$/i) && (\r\n                      <source srcSet={property.agent.photo} type=\"image/jpeg\" />\r\n                    )}\r\n                    <img src={property.agent.photo} alt=\"Агент\" style={{ width: 32, height: 32, borderRadius: '50%', objectFit: 'cover', boxShadow: '0 1px 4px #e6eaf1' }} loading=\"lazy\" />\r\n                  </picture>\r\n                )}\r\n                <span style={{ fontSize: 14, color: '#888', fontWeight: 500 }}>{property.agent?.firstName} {property.agent?.lastName}</span>\r\n                {property.agent?.phone && (\r\n                  <span style={{ fontSize: 14, color: '#1976d2', marginLeft: 8 }}>{property.agent.phone}</span>\r\n                )}\r\n              </div>\r\n              {renderAgentMessengers()}\r\n            </>\r\n          )}\r\n        </div>\r\n        <AddToSelectionModal open={modalOpen} propertyId={property.id} onClose={() => setModalOpen(false)} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (mode === 'compact') {\r\n    return (\r\n      <div\r\n        className={styles.glassCard}\r\n        style={{ margin: 6, boxShadow: '0 2px 8px 0 rgba(10,37,64,0.06)', cursor: isModalActive ? 'default' : 'pointer', minWidth: 0, minHeight: 0, maxWidth: 360 }}\r\n        {...(!isModalActive ? { onClick: handleCardClick } : {})}\r\n      >\r\n        <div\r\n          className={styles.cardImage}\r\n          style={{ height: 90, borderRadius: 10, position: 'relative', overflow: 'hidden', userSelect: 'none' }}\r\n          ref={sliderRef}\r\n          onMouseDown={handleDragStart}\r\n          onMouseMove={handleDragMove}\r\n          onMouseUp={handleDragEnd}\r\n          onMouseLeave={handleDragEnd}\r\n          onTouchStart={handleDragStart}\r\n          onTouchMove={handleDragMove}\r\n          onTouchEnd={handleDragEnd}\r\n        >\r\n          {images.length > 1 ? (\r\n            <>\r\n              <img\r\n                src={images[currentSlide] || '/placeholder-property.jpg'}\r\n                alt={property.title}\r\n                style={{ width: '100%', height: 90, objectFit: 'cover', borderRadius: 10, transition: '0.3s' }}\r\n                draggable={false}\r\n              />\r\n              {/* Стрелки */}\r\n              {currentSlide > 0 && (\r\n                <Button\r\n                  type=\"default\"\r\n                  shape=\"circle\"\r\n                  icon={<LeftOutlined />}\r\n                  size=\"small\"\r\n                  style={{ position: 'absolute', top: '50%', left: 6, transform: 'translateY(-50%)', zIndex: 2, background: '#fff', opacity: 0.8 }}\r\n                  onClick={goToPrev}\r\n                  tabIndex={-1}\r\n                />\r\n              )}\r\n              {currentSlide < images.length - 1 && (\r\n                <Button\r\n                  type=\"default\"\r\n                  shape=\"circle\"\r\n                  icon={<RightOutlined />}\r\n                  size=\"small\"\r\n                  style={{ position: 'absolute', top: '50%', right: 6, transform: 'translateY(-50%)', zIndex: 2, background: '#fff', opacity: 0.8 }}\r\n                  onClick={goToNext}\r\n                  tabIndex={-1}\r\n                />\r\n              )}\r\n              {/* Индикаторы */}\r\n              <div style={{ position: 'absolute', bottom: 6, left: 0, width: '100%', display: 'flex', justifyContent: 'center', gap: 4 }}>\r\n                {images.map((_, idx) => (\r\n                  <span key={idx} style={{ width: 8, height: 8, borderRadius: '50%', background: idx === currentSlide ? '#1976d2' : '#eee', display: 'inline-block' }} />\r\n                ))}\r\n              </div>\r\n            </>\r\n          ) : (\r\n            <OptimizedImage\r\n              src={mainImage}\r\n              alt={property.title}\r\n              preview={false}\r\n              width=\"100%\"\r\n              height={90}\r\n              style={{ objectFit: 'cover', borderRadius: 10 }}\r\n              lazy={true}\r\n              fallback=\"/placeholder-property.jpg\"\r\n            />\r\n          )}\r\n        </div>\r\n        <div className={styles.cardContent} style={{ padding: '10px 12px 8px 12px' }}>\r\n          <div style={{ fontSize: 15, fontWeight: 700, marginBottom: 2, whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis' }}>{property.title}</div>\r\n          <div style={{ fontSize: 13, color: '#888', marginBottom: 2, whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis' }}>{property.address}</div>\r\n          <div style={{ fontSize: 15, color: '#1976d2', fontWeight: 600, marginBottom: 2 }}>{formatPrice(property.price)}</div>\r\n          <div style={{ fontSize: 13, color: '#666', marginBottom: 2 }}>{property.area} м²</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={styles.glassCard + (isModalActive ? ' ' + styles.active : '')}\r\n      style={{ cursor: 'pointer', minHeight: (mode as string) === 'compact' ? 60 : 120, padding: (mode as string) === 'compact' ? 8 : undefined, fontSize: (mode as string) === 'compact' ? 14 : undefined, ...style }}\r\n      onClick={handleCardClick}\r\n      onMouseEnter={() => setHovered(true)}\r\n      onMouseLeave={handleMouseLeaveSlider}\r\n    >\r\n      <div data-testid={`property-card-${property.id}`}>\r\n        <div\r\n          className={styles.cardImage}\r\n          style={{ position: 'relative', overflow: 'hidden', userSelect: 'none', borderRadius: 16, height: 220 }}\r\n          ref={sliderRef}\r\n          onMouseDown={handleDragStart}\r\n          onMouseMove={handleDragMove}\r\n          onMouseUp={handleDragEnd}\r\n          onMouseLeave={handleDragEnd}\r\n          onTouchStart={handleDragStart}\r\n          onTouchMove={handleDragMove}\r\n          onTouchEnd={handleDragEnd}\r\n        >\r\n          {images.length > 1 ? (\r\n            <>\r\n              <img\r\n                src={images[currentSlide] || '/placeholder-property.jpg'}\r\n                alt={property.title}\r\n                style={{ width: '100%', height: 220, objectFit: 'cover', borderRadius: 16, transition: '0.3s' }}\r\n                draggable={false}\r\n              />\r\n              {/* Стрелки */}\r\n              {currentSlide > 0 && (\r\n                <Button\r\n                  type=\"default\"\r\n                  shape=\"circle\"\r\n                  icon={<LeftOutlined />}\r\n                  size=\"small\"\r\n                  style={{ position: 'absolute', top: '50%', left: 10, transform: 'translateY(-50%)', zIndex: 2, background: '#fff', opacity: 0.8 }}\r\n                  onClick={goToPrev}\r\n                  tabIndex={-1}\r\n                />\r\n              )}\r\n              {currentSlide < images.length - 1 && (\r\n                <Button\r\n                  type=\"default\"\r\n                  shape=\"circle\"\r\n                  icon={<RightOutlined />}\r\n                  size=\"small\"\r\n                  style={{ position: 'absolute', top: '50%', right: 10, transform: 'translateY(-50%)', zIndex: 2, background: '#fff', opacity: 0.8 }}\r\n                  onClick={goToNext}\r\n                  tabIndex={-1}\r\n                />\r\n              )}\r\n              {/* Индикаторы */}\r\n              <div style={{ position: 'absolute', bottom: 10, left: 0, width: '100%', display: 'flex', justifyContent: 'center', gap: 4 }}>\r\n                {images.map((_, idx) => (\r\n                  <span key={idx} style={{ width: 10, height: 10, borderRadius: '50%', background: idx === currentSlide ? '#1976d2' : '#eee', display: 'inline-block' }} />\r\n                ))}\r\n              </div>\r\n            </>\r\n          ) : (\r\n            <OptimizedImage\r\n              src={mainImage}\r\n              alt={property.title}\r\n              preview={false}\r\n              width=\"100%\"\r\n              height={220}\r\n              style={{ objectFit: 'cover', borderRadius: 16 }}\r\n              lazy={true}\r\n              fallback=\"/placeholder-property.jpg\"\r\n            />\r\n          )}\r\n          <div style={{ position: 'absolute', top: 16, left: 16, zIndex: 2, display: 'flex', gap: 8 }}>\r\n            {canEditStatus ? (\r\n              <Select\r\n                size=\"small\"\r\n                value={property.status}\r\n                style={{ minWidth: 110 }}\r\n                onChange={async val => {\r\n                  setSelectedStatus(val);\r\n                  await handleSaveStatus(val);\r\n                }}\r\n                options={statusOptions}\r\n                onClick={e => e.stopPropagation()}\r\n              />\r\n            ) : (\r\n              <Tag color={currentStatus.color} style={{ fontWeight: 600, fontSize: 13 }}>{currentStatus.label}</Tag>\r\n            )}\r\n            {/* Плашка эксклюзивный объект всегда */}\r\n            <Tag color=\"purple\" style={{ fontWeight: 600, fontSize: 13 }}>Эксклюзивный объект</Tag>\r\n          </div>\r\n        </div>\r\n        <div className={styles.cardContent} style={{ padding: 14, display: 'flex', flexDirection: 'column', gap: 8 }}>\r\n          {/* Название и адрес */}\r\n          <div style={{ display: 'flex', flexDirection: 'column', gap: 2 }}>\r\n            <div style={{ fontWeight: 800, fontSize: 18, color: '#222', lineHeight: 1.1, whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis' }}>{property.title}</div>\r\n            <div style={{ fontSize: 13, color: '#888', fontWeight: 500, whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis' }}>{property.address}</div>\r\n          </div>\r\n          {/* Цена и площадь */}\r\n          <div style={{ display: 'flex', alignItems: 'center', gap: 10 }}>\r\n            <div style={{ fontSize: 16, color: '#2563eb', fontWeight: 700 }}>{formatPrice(property.price)}</div>\r\n            <div style={{ fontSize: 13, color: '#444', fontWeight: 600 }}>{property.area} м²</div>\r\n          </div>\r\n          {/* Характеристики */}\r\n          <div style={{ display: 'flex', alignItems: 'center', gap: 10, fontSize: 12, color: '#666', marginBottom: 0 }}>\r\n            {property.bedrooms !== undefined && <span><i className=\"fas fa-bed\" style={{ marginRight: 3 }} />{property.bedrooms} спален</span>}\r\n            {property.bathrooms !== undefined && <span><i className=\"fas fa-bath\" style={{ marginRight: 3 }} />{property.bathrooms} ванн</span>}\r\n            {property.type && <span><i className=\"fas fa-home\" style={{ marginRight: 3 }} />{property.type}</span>}\r\n            {property.floor && property.totalFloors && <span><i className=\"fas fa-layer-group\" style={{ marginRight: 3 }} />{property.floor}/{property.totalFloors} эт.</span>}\r\n          </div>\r\n          {/* Описание с кнопкой 'Читать далее' если длинное — теперь между характеристиками и юридической чистотой */}\r\n          {property.description && (\r\n            <DescriptionWithReadMore text={property.description} maxLines={4} />\r\n          )}\r\n          {/* Блок юридической чистоты — сразу после описания */}\r\n          <div style={{\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            gap: 10,\r\n            margin: '6px 0 4px 0',\r\n            padding: '7px 10px',\r\n            background: '#fff',\r\n            borderRadius: 10,\r\n            boxShadow: '0 1px 4px #e6eaf122',\r\n            maxWidth: 320,\r\n            minHeight: 32,\r\n          }}>\r\n            <div style={{ fontSize: 16, flexShrink: 0 }}>\r\n              {legalIcon}\r\n            </div>\r\n            <div style={{ display: 'flex', flexDirection: 'column', gap: 0 }}>\r\n              <span style={{ fontWeight: 700, fontSize: 11, color: legalColor, marginBottom: 0 }}>\r\n                Юридическая чистота: {legalText}\r\n              </span>\r\n              {property.legalCheck?.details && <span style={{ color: '#888', fontSize: 10 }}>{property.legalCheck.details}</span>}\r\n              {property.legalCheck?.date && <span style={{ color: '#b0b6c3', fontSize: 9 }}>{property.legalCheck?.date}</span>}\r\n            </div>\r\n          </div>\r\n          {/* Агент и агентство + действия — в одной строке */}\r\n          {!isClientMode && (\r\n            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', gap: 12, marginTop: 3, marginBottom: 2 }}>\r\n              <div style={{ display: 'flex', alignItems: 'center', gap: 12 }}>\r\n                {property.agent?.photo && (\r\n                  <picture>\r\n                    {property.agent.photo.match(/\\.(jpg|jpeg|png)$/i) && (\r\n                      <source srcSet={property.agent.photo} type=\"image/jpeg\" />\r\n                    )}\r\n                    <img src={property.agent.photo} alt=\"Агент\" style={{ width: 32, height: 32, borderRadius: '50%', objectFit: 'cover', boxShadow: '0 1px 4px #e6eaf1' }} loading=\"lazy\" />\r\n                  </picture>\r\n                )}\r\n                <div style={{ display: 'flex', flexDirection: 'column', gap: 1 }}>\r\n                  <span style={{ fontWeight: 700, fontSize: 14 }}>{property.agent?.firstName} {property.agent?.lastName}</span>\r\n                  {property.agent?.agency?.name && (\r\n                    <div style={{ display: 'flex', alignItems: 'center', gap: 6 }}>\r\n                      {property.agent?.agency?.logo && (\r\n                        <img \r\n                          src={property.agent.agency.logo} \r\n                          alt=\"Логотип агентства\" \r\n                          style={{ \r\n                            width: 16, \r\n                            height: 16, \r\n                            objectFit: 'contain',\r\n                            borderRadius: 2\r\n                          }} \r\n                        />\r\n                      )}\r\n                      <span style={{ fontSize: 12, color: '#888', fontWeight: 500 }}>{property.agent.agency.name}</span>\r\n                    </div>\r\n                  )}\r\n                  <span style={{ color: '#888', fontSize: 12 }}>{property.agent?.phone}</span>\r\n                  <span>{renderAgentMessengers()}</span>\r\n                </div>\r\n              </div>\r\n              {/* Действия справа */}\r\n              <div className={styles.cardActions} style={{ display: 'flex', gap: 6, marginTop: 0, marginBottom: 0 }}>\r\n                <Tooltip title=\"Добавить в подбор\">\r\n                  <Button\r\n                    shape=\"circle\"\r\n                    icon={<PlusOutlined />}\r\n                    size=\"large\"\r\n                    onClick={e => { e.stopPropagation(); setModalOpen(true); }}\r\n                  />\r\n                </Tooltip>\r\n                <Tooltip title=\"Позвонить агенту\">\r\n                  <Button\r\n                    shape=\"circle\"\r\n                    icon={<PhoneIcon />}\r\n                    size=\"large\"\r\n                    onClick={e => { e.stopPropagation(); setPhoneModalOpen(true); }}\r\n                  />\r\n                </Tooltip>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <AddToSelectionModal open={modalOpen} propertyId={property.id} onClose={() => setModalOpen(false)} />\r\n      {!isClientMode && (\r\n        <Modal\r\n          open={phoneModalOpen}\r\n          onCancel={(e: React.MouseEvent) => { e.stopPropagation(); setPhoneModalOpen(false); }}\r\n          footer={null}\r\n          title=\"Контакт агента\"\r\n          afterClose={() => {}}\r\n          maskClosable={true}\r\n          destroyOnClose\r\n        >\r\n          <div style={{ fontSize: 18, fontWeight: 600, marginBottom: 8 }}>\r\n            {property.agent?.firstName} {property.agent?.lastName}\r\n          </div>\r\n          {property.agent?.agency?.name && (\r\n            <div style={{ display: 'flex', alignItems: 'center', gap: 8, marginBottom: 8 }}>\r\n              {property.agent?.agency?.logo && (\r\n                <img \r\n                  src={property.agent.agency.logo} \r\n                  alt=\"Логотип агентства\" \r\n                  style={{ \r\n                    width: 24, \r\n                    height: 24, \r\n                    objectFit: 'contain',\r\n                    borderRadius: 4\r\n                  }} \r\n                />\r\n              )}\r\n              <span style={{ fontSize: 16, color: '#666' }}>{property.agent.agency.name}</span>\r\n            </div>\r\n          )}\r\n          <div style={{ fontSize: 16 }}>\r\n            {property.agent?.phone || property.phone || 'Телефон не указан'}\r\n          </div>\r\n        </Modal>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst PhoneIcon = () => (\r\n  <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M6.62 10.79a15.053 15.053 0 006.59 6.59l2.2-2.2a1 1 0 011.01-.24c1.12.37 2.33.57 3.58.57a1 1 0 011 1V20a1 1 0 01-1 1C10.07 21 3 13.93 3 5a1 1 0 011-1h3.5a1 1 0 011 1c0 1.25.2 2.46.57 3.58a1 1 0 01-.24 1.01l-2.2 2.2z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n  </svg>\r\n);\r\n\r\n// Добавляю компонент DescriptionWithReadMore\r\nconst DescriptionWithReadMore: React.FC<{ text: string; maxLines?: number }> = ({ text, maxLines = 4 }) => {\r\n  const [expanded, setExpanded] = useState(false);\r\n  const ref = useRef<HTMLDivElement>(null);\r\n  const [truncated, setTruncated] = useState(false);\r\n\r\n  React.useEffect(() => {\r\n    if (ref.current) {\r\n      setTruncated(ref.current.scrollHeight > ref.current.clientHeight + 2);\r\n    }\r\n  }, [text, maxLines]);\r\n\r\n  return (\r\n    <div style={{ position: 'relative', marginTop: 4 }}>\r\n      <div\r\n        ref={ref}\r\n        style={{\r\n          fontSize: 12,\r\n          color: '#444',\r\n          lineHeight: 1.5,\r\n          maxHeight: expanded ? 'none' : `${maxLines * 1.5 * 1.1}em`,\r\n          overflow: expanded ? 'visible' : 'hidden',\r\n          textOverflow: 'ellipsis',\r\n          display: '-webkit-box',\r\n          WebkitLineClamp: expanded ? 'unset' : maxLines,\r\n          WebkitBoxOrient: 'vertical',\r\n          whiteSpace: 'pre-line',\r\n          background: 'none',\r\n          padding: 0,\r\n        }}\r\n      >\r\n        {text}\r\n      </div>\r\n      {!expanded && truncated && (\r\n        <div style={{\r\n          position: 'absolute',\r\n          bottom: 0,\r\n          left: 0,\r\n          width: '100%',\r\n          height: 32,\r\n          background: 'linear-gradient(180deg, rgba(255,255,255,0) 0%, #fff 90%)',\r\n          display: 'flex',\r\n          alignItems: 'flex-end',\r\n          justifyContent: 'center',\r\n        }}>\r\n          <Button size=\"small\" type=\"link\" style={{ fontSize: 12, padding: 0 }} onClick={() => setExpanded(true)}>Читать далее</Button>\r\n        </div>\r\n      )}\r\n      {expanded && (\r\n        <Button size=\"small\" type=\"link\" style={{ fontSize: 12, padding: 0, marginTop: 2 }} onClick={() => setExpanded(false)}>Скрыть</Button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// Сравнение пропсов для мемоизации PropertyCard\r\nfunction areEqual(prevProps: PropertyCardProps, nextProps: PropertyCardProps) {\r\n  // Сравниваем id property и основные пропсы\r\n  return (\r\n    prevProps.property.id === nextProps.property.id &&\r\n    prevProps.property.updatedAt === nextProps.property.updatedAt &&\r\n    prevProps.mode === nextProps.mode &&\r\n    prevProps.isFavorite === nextProps.isFavorite &&\r\n    prevProps.loading === nextProps.loading &&\r\n    prevProps.showActions === nextProps.showActions &&\r\n    prevProps.allowStatusEdit === nextProps.allowStatusEdit\r\n  );\r\n}\r\n\r\nexport default React.memo(PropertyCard, areEqual);"],"names":["getAllProperties","async","params","URLSearchParams","filters","Object","entries","forEach","_ref","key","value","undefined","append","toString","response","api","get","Array","isArray","data","properties","getPropertyById","id","getPropertiesByAgent","agentId","getRecentProperties","updatePropertyStatus","status","token","patch","headers","Authorization","src","alt","width","height","className","style","fallback","placeholder","onLoad","onError","lazy","quality","preview","loading","setLoading","useState","error","setError","imageSrc","setImageSrc","useRef","useEffect","PictureOutlined","_jsxs","display","alignItems","justifyContent","backgroundColor","color","children","_jsx","fontSize","marginRight","position","_Skeleton","Image","active","top","left","zIndex","opacity","transition","handleLoad","handleError","fetchSelections","err","createSelection","title","post","propertyIds","addPropertyToSelection","selectionId","propertyId","selection","includes","updated","put","removePropertyFromSelection","filter","deleteSelection","delete","getSelectionById","getClientLikes","getClientLink","clientToken","window","location","origin","downloadSelectionPdf","_link$parentNode","res","responseType","url","URL","createObjectURL","Blob","type","link","document","createElement","href","setAttribute","body","appendChild","click","parentNode","removeChild","revokeObjectURL","getSelectionByClientToken","sendClientLike","liked","open","onClose","createOnly","selections","setSelections","selectedId","setSelectedId","newTitle","setNewTitle","creating","setCreating","adding","setAdding","localStorage","getItem","then","handleCreate","trim","newSel","prev","_message","success","_Modal","onCancel","footer","destroyOnHidden","onClick","e","stopPropagation","marginBottom","fontWeight","_Select","onChange","options","map","s","label","allowClear","_Input","target","onPressEnter","_Button","disabled","block","handleAdd","Text","Title","_Typography","statusOptions","PropertyCard","_auth$user","_property$agent","_property$legalCheck","_property$legalCheck5","_property$legalCheck6","_property$legalCheck7","_property$agent6","_property$agent7","_property$agent8","_property$agent9","_property$agent9$agen","_property$agent0","_property$agent0$agen","_property$agent1","_property$agent10","_property$agent11","_property$agent12","_property$agent12$age","_property$agent13","_property$agent13$age","_property$agent14","property","onStatusChange","mode","onFavorite","onEdit","onDelete","isFavorite","showActions","allowStatusEdit","images","photos","arr","JSON","parse","normalizePhotos","navigate","useNavigate","modalOpen","setModalOpen","statusModalOpen","setStatusModalOpen","selectedStatus","setSelectedStatus","auth","useContext","AuthContext","currentUser","user","isClientMode","useClientMode","lastDirection","setLastDirection","hovered","setHovered","dragStartX","setDragStartX","dragLastX","setDragLastX","lastSegment","setLastSegment","imageLoading","setImageLoading","phoneModalOpen","setPhoneModalOpen","isChatModalOpen","setIsChatModalOpen","canEditStatus","agent","role","currentStatus","find","opt","handleCardClick","useCallback","currentSlide","setCurrentSlide","sliderRef","dragState","startX","dragging","lastX","handleDragStart","current","evt","touches","length","clientX","handleDragMove","x","handleDragEnd","endX","changedTouches","delta","Math","abs","goToPrev","goToNext","_Card","paragraph","rows","mainImage","formatPrice","price","num","Number","isNaN","toLocaleString","isModalActive","renderAgentMessengers","telegramUsername","whatsappNumber","replace","_Space","marginTop","rel","legalStatus","legalCheck","legalIcon","PropertySafetyOutlined","legalColor","legalText","_property$legalCheck2","_property$legalCheck3","_property$legalCheck4","_property$agent2","_property$agent3","_property$agent4","_property$agent5","SyncOutlined","spin","styles","avitoCard","flexDirection","background","borderRadius","boxShadow","minHeight","margin","padding","cursor","maxWidth","overflow","flexShrink","OptimizedImage","objectFit","flex","minWidth","lineHeight","whiteSpace","textOverflow","gap","address","area","floor","floors","details","date","_Fragment","photo","match","srcSet","firstName","lastName","phone","marginLeft","AddToSelectionModal","glassCard","cardImage","userSelect","ref","onMouseDown","onMouseMove","onMouseUp","onMouseLeave","onTouchStart","onTouchMove","onTouchEnd","draggable","shape","icon","LeftOutlined","size","transform","tabIndex","RightOutlined","right","bottom","_","idx","cardContent","onMouseEnter","handleMouseLeaveSlider","val","statusToSet","newStatus","console","log","_error$response","_error$response$data","errorMsg","message","handleSaveStatus","_Tag","bedrooms","bathrooms","totalFloors","description","DescriptionWithReadMore","text","maxLines","agency","name","logo","cardActions","_Tooltip","PlusOutlined","PhoneIcon","afterClose","maskClosable","destroyOnClose","viewBox","fill","xmlns","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","_ref2","expanded","setExpanded","truncated","setTruncated","React","scrollHeight","clientHeight","maxHeight","WebkitLineClamp","WebkitBoxOrient","areEqual","prevProps","nextProps","updatedAt"],"sourceRoot":""}